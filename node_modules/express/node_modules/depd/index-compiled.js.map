{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*!\n * depd\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar callSiteToString = require('./lib/compat').callSiteToString\nvar eventListenerCount = require('./lib/compat').eventListenerCount\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace(str, namespace) {\n  var val = str.split(/[ ,]+/)\n\n  namespace = String(namespace).toLowerCase()\n\n  for (var i = 0 ; i < val.length; i++) {\n    if (!(str = val[i])) continue;\n\n    // namespace contained\n    if (str === '*' || str.toLowerCase() === namespace) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor(obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter() { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter(val) { return value = val }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString(arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString(stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + callSiteToString(stack[i])\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd(namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate(message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored(namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced(namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log(message, site) {\n  var haslisteners = eventListenerCount(process, 'deprecation') !== 0\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = site.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    site = callSiteLocation(stack[i])\n    callSite = site\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? site.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  if (!message) {\n    message = callSite === site || !callSite.name\n      ? defaultMessage(site)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, message, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var msg = format.call(this, message, caller, stack.slice(i))\n  process.stderr.write(msg + '\\n', 'utf8')\n\n  return\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation(callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage(site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain(msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp\n    + ' ' + this._namespace\n    + ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + callSiteToString(stack[i])\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor(msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' // bold cyan\n    + ' \\x1b[33;1mdeprecated\\x1b[22;39m' // bold yellow\n    + ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + callSiteToString(stack[i]) + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation(callSite) {\n  return relative(basePath, callSite[0])\n    + ':' + callSite[1]\n    + ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack() {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace(obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction(fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  var deprecatedfn = eval('(function (' + args + ') {\\n'\n    + '\"use strict\"\\n'\n    + 'log.call(deprecate, message, site)\\n'\n    + 'return fn.apply(this, arguments)\\n'\n    + '})')\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty(obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter() {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter() {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError(namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return stackString = createStackString.call(this, stack)\n    },\n    set: function setter(val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n"]}