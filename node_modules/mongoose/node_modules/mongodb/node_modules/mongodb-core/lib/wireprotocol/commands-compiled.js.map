{"version":3,"sources":["commands.js"],"names":[],"mappings":"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","file":"commands-compiled.js","sourcesContent":["\"use strict\";\n\nvar MongoError = require('../error');\n\n// Wire command operation ids\nvar OP_UPDATE = 2001;\nvar OP_INSERT = 2002;\nvar OP_DELETE = 2006;\n\nvar Insert = function(requestId, ismaster, bson, ns, documents, options) {\n  // Basic options needed to be passed in\n  if(ns == null) throw new MongoError(\"ns must be specified for query\");\n  if(!Array.isArray(documents) || documents.length == 0) throw new MongoError(\"documents array must contain at least one document to insert\");\n\n  // Validate that we are not passing 0x00 in the colletion name\n  if(!!~ns.indexOf(\"\\x00\")) {\n    throw new MongoError(\"namespace cannot contain a null character\");\n  }\n\n  // Set internal\n  this.requestId = requestId;\n  this.bson = bson;\n  this.ns = ns;\n  this.documents = documents;\n  this.ismaster = ismaster;\n\n  // Ensure empty options\n  options = options || {};\n\n  // Unpack options\n  this.serializeFunctions = typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false;\n  this.ignoreUndefined = typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false;\n  this.checkKeys = typeof options.checkKeys == 'boolean' ? options.checkKeys : true;\n  this.continueOnError = typeof options.continueOnError == 'boolean' ? options.continueOnError : false;\n  // Set flags\n  this.flags = this.continueOnError ? 1 : 0;\n}\n\n// To Binary\nInsert.prototype.toBin = function() {\n  // Contains all the buffers to be written\n  var buffers = [];\n\n  // Header buffer\n  var header = new Buffer(\n    4 * 4 // Header\n    + 4   // Flags\n    + Buffer.byteLength(this.ns) + 1 // namespace\n  );\n\n  // Add header to buffers\n  buffers.push(header);\n\n  // Total length of the message\n  var totalLength = header.length;\n\n  // Serialize all the documents\n  for(var i = 0; i < this.documents.length; i++) {\n    var buffer = this.bson.serialize(this.documents[i]\n      , this.checkKeys\n      , true\n      , this.serializeFunctions\n      , 0, this.ignoreUndefined);\n\n    // Document is larger than maxBsonObjectSize, terminate serialization\n    if(buffer.length > this.ismaster.maxBsonObjectSize) {\n      throw new MongoError(\"Document exceeds maximum allowed bson size of \" + this.ismaster.maxBsonObjectSize + \" bytes\");\n    }\n\n    // Add to total length of wire protocol message\n    totalLength = totalLength + buffer.length;\n    // Add to buffer\n    buffers.push(buffer);\n  }\n\n  // Command is larger than maxMessageSizeBytes terminate serialization\n  if(totalLength > this.ismaster.maxMessageSizeBytes) {\n    throw new MongoError(\"Command exceeds maximum message size of \" + this.ismaster.maxMessageSizeBytes + \" bytes\");\n  }\n\n  // Add all the metadata\n  var index = 0;\n\n  // Write header length\n  header[index + 3] = (totalLength >> 24) & 0xff;\n  header[index + 2] = (totalLength >> 16) & 0xff;\n  header[index + 1] = (totalLength >> 8) & 0xff;\n  header[index] = (totalLength) & 0xff;\n  index = index + 4;\n\n  // Write header requestId\n  header[index + 3] = (this.requestId >> 24) & 0xff;\n  header[index + 2] = (this.requestId >> 16) & 0xff;\n  header[index + 1] = (this.requestId >> 8) & 0xff;\n  header[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // No flags\n  header[index + 3] = (0 >> 24) & 0xff;\n  header[index + 2] = (0 >> 16) & 0xff;\n  header[index + 1] = (0 >> 8) & 0xff;\n  header[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Operation\n  header[index + 3] = (OP_INSERT >> 24) & 0xff;\n  header[index + 2] = (OP_INSERT >> 16) & 0xff;\n  header[index + 1] = (OP_INSERT >> 8) & 0xff;\n  header[index] = (OP_INSERT) & 0xff;\n  index = index + 4;\n\n  // Flags\n  header[index + 3] = (this.flags >> 24) & 0xff;\n  header[index + 2] = (this.flags >> 16) & 0xff;\n  header[index + 1] = (this.flags >> 8) & 0xff;\n  header[index] = (this.flags) & 0xff;\n  index = index + 4;\n\n  // Write collection name\n  index = index + header.write(this.ns, index, 'utf8') + 1;\n  header[index - 1] = 0;\n\n  // Return the buffers\n  return buffers;\n}\n\nvar Update = function(requestId, ismaster, bson, ns, update, options) {\n  // Basic options needed to be passed in\n  if(ns == null) throw new MongoError(\"ns must be specified for query\");\n\n  // Ensure empty options\n  options = options || {};\n\n  // Set internal\n  this.requestId = requestId;\n  this.bson = bson;\n  this.ns = ns;\n  this.ismaster = ismaster;\n\n  // Unpack options\n  this.serializeFunctions = typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false;\n  this.ignoreUndefined = typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false;\n  this.checkKeys = typeof options.checkKeys == 'boolean' ? options.checkKeys : false;\n\n  // Unpack the update document\n  this.upsert = typeof update[0].upsert == 'boolean' ? update[0].upsert : false;\n  this.multi = typeof update[0].multi == 'boolean' ? update[0].multi : false;\n  this.q = update[0].q;\n  this.u = update[0].u;\n\n  // Create flag value\n  this.flags = this.upsert ? 1 : 0;\n  this.flags = this.multi ? this.flags | 2 : this.flags;\n}\n\n// To Binary\nUpdate.prototype.toBin = function() {\n  // Contains all the buffers to be written\n  var buffers = [];\n\n  // Header buffer\n  var header = new Buffer(\n    4 * 4 // Header\n    + 4   // ZERO\n    + Buffer.byteLength(this.ns) + 1 // namespace\n    + 4   // Flags\n  );\n\n  // Add header to buffers\n  buffers.push(header);\n\n  // Total length of the message\n  var totalLength = header.length;\n\n  // Serialize the selector\n  var selector = this.bson.serialize(this.q\n    , this.checkKeys\n    , true\n    , this.serializeFunctions\n    , 0, this.ignoreUndefined);\n  buffers.push(selector);\n  totalLength = totalLength + selector.length;\n\n  // Serialize the update\n  var update = this.bson.serialize(this.u\n    , this.checkKeys\n    , true\n    , this.serializeFunctions\n    , 0, this.ignoreUndefined);\n  buffers.push(update);\n  totalLength = totalLength + update.length;\n\n  // Index in header buffer\n  var index = 0;\n\n  // Write header length\n  header[index + 3] = (totalLength >> 24) & 0xff;\n  header[index + 2] = (totalLength >> 16) & 0xff;\n  header[index + 1] = (totalLength >> 8) & 0xff;\n  header[index] = (totalLength) & 0xff;\n  index = index + 4;\n\n  // Write header requestId\n  header[index + 3] = (this.requestId >> 24) & 0xff;\n  header[index + 2] = (this.requestId >> 16) & 0xff;\n  header[index + 1] = (this.requestId >> 8) & 0xff;\n  header[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // No flags\n  header[index + 3] = (0 >> 24) & 0xff;\n  header[index + 2] = (0 >> 16) & 0xff;\n  header[index + 1] = (0 >> 8) & 0xff;\n  header[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Operation\n  header[index + 3] = (OP_UPDATE >> 24) & 0xff;\n  header[index + 2] = (OP_UPDATE >> 16) & 0xff;\n  header[index + 1] = (OP_UPDATE >> 8) & 0xff;\n  header[index] = (OP_UPDATE) & 0xff;\n  index = index + 4;\n\n  // Write ZERO\n  header[index + 3] = (0 >> 24) & 0xff;\n  header[index + 2] = (0 >> 16) & 0xff;\n  header[index + 1] = (0 >> 8) & 0xff;\n  header[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Write collection name\n  index = index + header.write(this.ns, index, 'utf8') + 1;\n  header[index - 1] = 0;\n\n  // Flags\n  header[index + 3] = (this.flags >> 24) & 0xff;\n  header[index + 2] = (this.flags >> 16) & 0xff;\n  header[index + 1] = (this.flags >> 8) & 0xff;\n  header[index] = (this.flags) & 0xff;\n  index = index + 4;\n\n  // Return the buffers\n  return buffers;\n}\n\nvar Remove = function(requestId, ismaster, bson, ns, remove, options) {\n  // Basic options needed to be passed in\n  if(ns == null) throw new MongoError(\"ns must be specified for query\");\n\n  // Ensure empty options\n  options = options || {};\n\n  // Set internal\n  this.requestId = requestId;\n  this.bson = bson;\n  this.ns = ns;\n  this.ismaster = ismaster;\n\n  // Unpack options\n  this.serializeFunctions = typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false;\n  this.ignoreUndefined = typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false;\n  this.checkKeys = typeof options.checkKeys == 'boolean' ? options.checkKeys : false;\n\n  // Unpack the update document\n  this.limit = typeof remove[0].limit == 'number' ? remove[0].limit : 1;\n  this.q = remove[0].q;\n\n  // Create flag value\n  this.flags = this.limit == 1 ? 1 : 0;\n}\n\n// To Binary\nRemove.prototype.toBin = function() {\n  // Contains all the buffers to be written\n  var buffers = [];\n\n  // Header buffer\n  var header = new Buffer(\n    4 * 4 // Header\n    + 4   // ZERO\n    + Buffer.byteLength(this.ns) + 1 // namespace\n    + 4   // Flags\n  );\n\n  // Add header to buffers\n  buffers.push(header);\n\n  // Total length of the message\n  var totalLength = header.length;\n\n  // Serialize the selector\n  var selector = this.bson.serialize(this.q\n    , this.checkKeys\n    , true\n    , this.serializeFunctions\n    , 0, this.ignoreUndefined);\n  buffers.push(selector);\n  totalLength = totalLength + selector.length;\n\n  // Index in header buffer\n  var index = 0;\n\n  // Write header length\n  header[index + 3] = (totalLength >> 24) & 0xff;\n  header[index + 2] = (totalLength >> 16) & 0xff;\n  header[index + 1] = (totalLength >> 8) & 0xff;\n  header[index] = (totalLength) & 0xff;\n  index = index + 4;\n\n  // Write header requestId\n  header[index + 3] = (this.requestId >> 24) & 0xff;\n  header[index + 2] = (this.requestId >> 16) & 0xff;\n  header[index + 1] = (this.requestId >> 8) & 0xff;\n  header[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // No flags\n  header[index + 3] = (0 >> 24) & 0xff;\n  header[index + 2] = (0 >> 16) & 0xff;\n  header[index + 1] = (0 >> 8) & 0xff;\n  header[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Operation\n  header[index + 3] = (OP_DELETE >> 24) & 0xff;\n  header[index + 2] = (OP_DELETE >> 16) & 0xff;\n  header[index + 1] = (OP_DELETE >> 8) & 0xff;\n  header[index] = (OP_DELETE) & 0xff;\n  index = index + 4;\n\n  // Write ZERO\n  header[index + 3] = (0 >> 24) & 0xff;\n  header[index + 2] = (0 >> 16) & 0xff;\n  header[index + 1] = (0 >> 8) & 0xff;\n  header[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Write collection name\n  index = index + header.write(this.ns, index, 'utf8') + 1;\n  header[index - 1] = 0;\n\n  // Write ZERO\n  header[index + 3] = (this.flags >> 24) & 0xff;\n  header[index + 2] = (this.flags >> 16) & 0xff;\n  header[index + 1] = (this.flags >> 8) & 0xff;\n  header[index] = (this.flags) & 0xff;\n  index = index + 4;\n\n  // Return the buffers\n  return buffers;\n}\n\nmodule.exports = {\n    Insert: Insert\n  , Update: Update\n  , Remove: Remove\n}\n"]}