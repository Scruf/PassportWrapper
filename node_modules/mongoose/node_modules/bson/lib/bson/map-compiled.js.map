{"version":3,"sources":["map.js"],"names":[],"mappings":"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","file":"map-compiled.js","sourcesContent":["\"use strict\"\n\n// We have an ES6 Map available, return the native instance\nif(typeof global.Map !== 'undefined') {\n  module.exports = global.Map;\n  module.exports.Map = global.Map;\n} else {\n  // We will return a polyfill\n  var Map = function(array) {\n    this._keys = [];\n    this._values = {};\n\n    for(var i = 0; i < array.length; i++) {\n      if(array[i] == null) continue;  // skip null and undefined\n      var entry = array[i];\n      var key = entry[0];\n      var value = entry[1];\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = {v: value, i: this._keys.length - 1};\n    }\n  }\n\n  Map.prototype.clear = function() {\n    this._keys = [];\n    this._values = {};\n  }\n\n  Map.prototype.delete = function(key) {\n    var value = this._values[key];\n    if(value == null) return false;\n    // Delete entry\n    delete this._values[key];\n    // Remove the key from the ordered keys list\n    this._keys.splice(value.i, 1);\n    return true;\n  }\n\n  Map.prototype.entries = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? [key, self._values[key].v] : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.forEach = function(callback, self) {\n    self = self || this;\n\n    for(var i = 0; i < this._keys.length; i++) {\n      var key = this._keys[i];\n      // Call the forEach callback\n      callback.call(self, this._values[key].v, key, self);\n    }\n  }\n\n  Map.prototype.get = function(key) {\n    return this._values[key] ? this._values[key].v : undefined;\n  }\n\n  Map.prototype.has = function(key) {\n    return this._values[key] != null;\n  }\n\n  Map.prototype.keys = function(key) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? key : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.set = function(key, value) {\n    if(this._values[key]) {\n      this._values[key].v = value;\n      return this;\n    }\n\n    // Add the key to the list of keys in order\n    this._keys.push(key);\n    // Add the key and value to the values dictionary with a point\n    // to the location in the ordered keys list\n    this._values[key] = {v: value, i: this._keys.length - 1};\n    return this;\n  }\n\n  Map.prototype.values = function(key, value) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? self._values[key].v : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  // Last ismaster\n  Object.defineProperty(Map.prototype, 'size', {\n    enumerable:true,\n    get: function() { return this._keys.length; }\n  });\n\n  module.exports = Map;\n  module.exports.Map = Map;\n}"]}