{"version":3,"sources":["promise.domain.test.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,KAAR,CAAV;IACA,SAAS,QAAQ,QAAR,EAAkB,MAAlB;IACT,SAAS,QAAQ,QAAR,CAAT;;AAGJ,SAAS,SAAT,EAAoB,YAAY;AAC9B,KAAG,qDAAH,EAA0D,UAAU,IAAV,EAAgB;AACxE,QAAI,QAAQ,OAAR,CAAgB,OAAhB,CAAwB,OAAxB,KAAoC,CAApC,EAAuC,OAAO,MAAP,CAA3C;AACA,QAAI,IAAI,IAAI,MAAJ,EAAJ,CAFoE;AAGxE,MAAE,EAAF,CAAK,OAAL,EAAc,UAAU,GAAV,EAAe;AAC3B,aAAO,KAAP,CAAa,IAAI,OAAJ,EAAa,MAA1B,EAD2B;AAE3B,aAF2B;KAAf,CAAd,CAHwE;;AAQxE,QAAI,IAAI,IAAI,OAAJ,EAAJ,CARoE;AASxE,MAAE,GAAF,CAAM,YAAY;AAChB,QAAE,IAAF,CACE,YAAY,EAAZ,CADF,CAEE,IAFF,CAGE,YAAY;AAAE,cAAM,IAAI,KAAJ,CAAU,MAAV,CAAN,CAAF;OAAZ,CAHF,CAIE,GAJF,GADgB;KAAZ,CAAN,CATwE;;AAiBxE,YAAQ,QAAR,CAAiB,YAAY;AAC3B,QAAE,OAAF,GAD2B;KAAZ,CAAjB,CAjBwE;GAAhB,CAA1D,CAD8B;CAAZ,CAApB","file":"promise.domain.test-compiled.js","sourcesContent":["var Promise = require('../')\n  , Domain = require('domain').Domain\n  , assert = require('assert');\n\n\ndescribe(\"domains\", function () {\n  it(\"exceptions should not breakout of domain boundaries\", function (done) {\n    if (process.version.indexOf('v0.10') != 0) return done();\n    var d = new Domain;\n    d.on('error', function (err) {\n      assert.equal(err.message, 'gaga');\n      done()\n    });\n\n    var p = new Promise();\n    d.run(function () {\n      p.then(\n        function () {}\n      ).then(\n        function () { throw new Error('gaga'); }\n      ).end();\n    });\n\n    process.nextTick(function () {\n      p.fulfill();\n    });\n  });\n});\n"]}