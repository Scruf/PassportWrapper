{"version":3,"sources":["context.js"],"names":[],"mappings":"AAAA;;AACA,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAkB,aAAlB,EAAiC,WAAjC,EAA8C;AAC/D,QAAI,eAAe,EAAf,CAD2D;AAE/D,aAAS,OAAT,GAAmB;AACf,aAAK,MAAL,GAAc,IAAI,aAAJ,CAAkB,aAAlB,CAAd,CADe;KAAnB;AAGA,YAAQ,SAAR,CAAkB,YAAlB,GAAiC,YAAY;AACzC,YAAI,CAAC,aAAD,EAAgB,OAApB;AACA,YAAI,KAAK,MAAL,KAAgB,SAAhB,EAA2B;AAC3B,yBAAa,IAAb,CAAkB,KAAK,MAAL,CAAlB,CAD2B;SAA/B;KAF6B,CAL8B;;AAY/D,YAAQ,SAAR,CAAkB,WAAlB,GAAgC,YAAY;AACxC,YAAI,CAAC,aAAD,EAAgB,OAApB;AACA,YAAI,KAAK,MAAL,KAAgB,SAAhB,EAA2B;AAC3B,yBAAa,GAAb,GAD2B;SAA/B;KAF4B,CAZ+B;;AAmB/D,aAAS,aAAT,GAAyB;AACrB,YAAI,aAAJ,EAAmB,OAAO,IAAI,OAAJ,EAAP,CAAnB;KADJ;;AAIA,aAAS,WAAT,GAAuB;AACnB,YAAI,YAAY,aAAa,MAAb,GAAsB,CAAtB,CADG;AAEnB,YAAI,aAAa,CAAb,EAAgB;AAChB,mBAAO,aAAa,SAAb,CAAP,CADgB;SAApB;AAGA,eAAO,SAAP,CALmB;KAAvB;;AAQA,YAAQ,SAAR,CAAkB,YAAlB,GAAiC,WAAjC,CA/B+D;AAgC/D,YAAQ,SAAR,CAAkB,YAAlB,GAAiC,QAAQ,SAAR,CAAkB,YAAlB,CAhC8B;AAiC/D,YAAQ,SAAR,CAAkB,WAAlB,GAAgC,QAAQ,SAAR,CAAkB,WAAlB,CAjC+B;;AAmC/D,WAAO,aAAP,CAnC+D;CAA9C","file":"context-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, CapturedTrace, isDebugging) {\nvar contextStack = [];\nfunction Context() {\n    this._trace = new CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.pop();\n    }\n};\n\nfunction createContext() {\n    if (isDebugging()) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\n\nPromise.prototype._peekContext = peekContext;\nPromise.prototype._pushContext = Context.prototype._pushContext;\nPromise.prototype._popContext = Context.prototype._popContext;\n\nreturn createContext;\n};\n"]}