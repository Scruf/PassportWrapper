{"version":3,"sources":["props.js"],"names":[],"mappings":"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","file":"props-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5.js\");\n\nfunction PropertiesPromiseArray(obj) {\n    var keys = es5.keys(obj);\n    var len = keys.length;\n    var values = new Array(len * 2);\n    for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        values[i] = obj[key];\n        values[i + len] = key;\n    }\n    this.constructor$(values);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {\n    this._init$(undefined, -3) ;\n};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val = {};\n        var keyOffset = this.length();\n        for (var i = 0, len = this.length(); i < len; ++i) {\n            val[this._values[i + keyOffset]] = this._values[i];\n        }\n        this._resolve(val);\n    }\n};\n\nPropertiesPromiseArray.prototype._promiseProgressed = function (value, index) {\n    this._promise._progress({\n        key: this._values[index + this.length()],\n        value: value\n    });\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/OsFKC8\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 4);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n"]}