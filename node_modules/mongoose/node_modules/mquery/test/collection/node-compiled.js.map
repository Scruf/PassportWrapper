{"version":3,"sources":["node.js"],"names":[],"mappings":";AACA,IAAI,SAAS,QAAQ,QAAR,CAAT;AACJ,IAAI,QAAQ,QAAQ,QAAR,CAAR;AACJ,IAAI,QAAQ,QAAQ,SAAR,CAAR;AACJ,IAAI,QAAQ,QAAQ,QAAR,EAAkB,KAAlB;;AAEZ,IAAI,MAAM,QAAQ,GAAR,CAAY,UAAZ,IAA0B,4BAA1B;AACV,IAAI,EAAJ;;AAEA,QAAQ,aAAR,GAAwB,UAAU,EAAV,EAAc;AACpC,QAAM,EAAN,CAAS,OAAT,CAAiB,GAAjB,EAAsB,UAAU,GAAV,EAAe,GAAf,EAAoB;AACxC,WAAO,OAAP,CAAe,GAAf,EADwC;AAExC,SAAK,GAAL,CAFwC;;AAIxC,QAAI,aAAa,GAAG,UAAH,CAAc,OAAd,CAAb,CAJoC;AAKxC,eAAW,IAAX,CAAgB,IAAhB,GAAuB,IAAvB;;;AALwC,MAQxC,CAAG,YAAH,CAAgB,YAAY;AAC1B,SAAG,IAAH,EAAS,UAAT,EAD0B;KAAZ,CAAhB,CARwC;GAApB,CAAtB,CADoC;CAAd;;AAexB,QAAQ,cAAR,GAAyB,UAAU,EAAV,EAAc;AACrC,KAAG,YAAH,CAAgB,YAAY;AAC1B,OAAG,KAAH,CAAS,EAAT,EAD0B;GAAZ,CAAhB,CADqC;CAAd","file":"node-compiled.js","sourcesContent":["\nvar assert = require('assert')\nvar slice = require('sliced')\nvar mongo = require('mongodb')\nvar utils = require('../../').utils;\n\nvar uri = process.env.MQUERY_URI || 'mongodb://localhost/mquery';\nvar db;\n\nexports.getCollection = function (cb) {\n  mongo.Db.connect(uri, function (err, db_) {\n    assert.ifError(err);\n    db = db_;\n\n    var collection = db.collection('stuff');\n    collection.opts.safe = true;\n\n    // clean test db before starting\n    db.dropDatabase(function () {\n      cb(null, collection);\n    });\n  })\n}\n\nexports.dropCollection = function (cb) {\n  db.dropDatabase(function () {\n    db.close(cb);\n  })\n}\n"]}