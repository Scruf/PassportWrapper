{"version":3,"sources":["lean.js"],"names":[],"mappings":";;AAEA,IAAI,QAAQ,QAAQ,OAAR,CAAR;;;AAGJ,IAAI,WAAW,QAAQ,WAAR,CAAX;;AAEJ,QAAQ,aAAR;;AAEA,IAAI,SAAS,SAAS,KAAT,CAAe,QAAf,CAAT;;;AAGJ,IAAI,OAAO,CACT;AACE,QAAM,MAAN;AACA,OAAK,EAAL;AACA,YAAU,IAAI,IAAJ,GAAW,WAAX,CAAwB,IAAI,IAAJ,GAAW,WAAX,KAA2B,EAA3B,CAAlC;AACA,UAAQ,MAAR;AACA,SAAO,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAP;CANO,EAQT;AACE,QAAM,MAAN;AACA,OAAK,EAAL;AACA,YAAU,IAAI,IAAJ,GAAW,WAAX,CAAwB,IAAI,IAAJ,GAAW,WAAX,KAA2B,EAA3B,CAAlC;AACA,UAAQ,QAAR;AACA,SAAO,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAP;CAbO,EAeT;AACE,QAAM,KAAN;AACA,OAAK,EAAL;AACA,YAAU,IAAI,IAAJ,GAAW,WAAX,CAAwB,IAAI,IAAJ,GAAW,WAAX,KAA2B,EAA3B,CAAlC;AACA,UAAQ,MAAR;AACA,SAAO,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAAP;CApBO,EAsBT;AACE,QAAM,OAAN;AACA,OAAK,EAAL;AACA,YAAU,IAAI,IAAJ,GAAW,WAAX,CAAwB,IAAI,IAAJ,GAAW,WAAX,KAA2B,EAA3B,CAAlC;AACA,UAAQ,QAAR;AACA,SAAO,CAAC,OAAD,EAAU,MAAV,EAAkB,MAAlB,CAAP;CA3BO,EA6BT;AACE,QAAM,SAAN;AACA,OAAK,IAAL;AACA,YAAU,IAAI,IAAJ,GAAW,WAAX,CAAwB,IAAI,IAAJ,GAAW,WAAX,KAA2B,IAA3B,CAAlC;AACA,UAAQ,MAAR;AACA,SAAO,CAAC,SAAD,EAAY,MAAZ,EAAoB,WAApB,CAAP;CAlCO,CAAP;;AAuCJ,SAAS,OAAT,CAAiB,6BAAjB,EAAgD,UAAS,GAAT,EAAc;AAC5D,MAAI,GAAJ,EAAS,MAAM,GAAN,CAAT;;;AAD4D,OAI5D,CAAM,IAAN,CAAW,IAAX,EAAiB,UAAS,IAAT,EAAe,EAAf,EAAmB;AAClC,WAAO,MAAP,CAAc,IAAd,EAAoB,EAApB,EADkC;GAAnB,EAEd,UAAS,GAAT,EAAc;AACf,QAAI,GAAJ,EAAS;;;;;;;;;;AAAT,QAUI,IAAI,OAAO,IAAP,CAAY,EAAC,KAAK,EAAC,KAAK,IAAL,EAAN,EAAb,EAAgC,IAAhC,CAAqC,KAArC,EAA4C,KAA5C,CAAkD,CAAlD,EAAqD,IAArD,EAAJ,CAXW;AAYf,MAAE,IAAF,CAAO,UAAS,GAAT,EAAc,OAAd,EAAuB;AAC5B,UAAI,GAAJ,EAAS,MAAM,GAAN,CAAT;AACA,cAAQ,GAAR,CAAY,wCAAZ,EAAsD,QAAQ,CAAR,aAAsB,SAAS,QAAT,CAA5E,CAF4B;;AAI5B,cAAQ,GAAR,CAAY,OAAZ,EAJ4B;AAK5B,gBAL4B;KAAvB,CAAP,CAZe;GAAd,CAFH,CAJ4D;CAAd,CAAhD;;AA4BA,SAAS,OAAT,GAAmB;AACjB,SAAO,MAAP,CAAc,YAAW;AACvB,aAAS,UAAT,GADuB;GAAX,CAAd,CADiB;CAAnB","file":"lean-compiled.js","sourcesContent":["\n// import async to make control flow simplier\nvar async = require('async');\n\n// import the rest of the normal stuff\nvar mongoose = require('../../lib');\n\nrequire('./person.js')();\n\nvar Person = mongoose.model('Person');\n\n// define some dummy data\nvar data = [\n  {\n    name: 'bill',\n    age: 25,\n    birthday: new Date().setFullYear((new Date().getFullYear() - 25)),\n    gender: 'Male',\n    likes: ['movies', 'games', 'dogs']\n  },\n  {\n    name: 'mary',\n    age: 30,\n    birthday: new Date().setFullYear((new Date().getFullYear() - 30)),\n    gender: 'Female',\n    likes: ['movies', 'birds', 'cats']\n  },\n  {\n    name: 'bob',\n    age: 21,\n    birthday: new Date().setFullYear((new Date().getFullYear() - 21)),\n    gender: 'Male',\n    likes: ['tv', 'games', 'rabbits']\n  },\n  {\n    name: 'lilly',\n    age: 26,\n    birthday: new Date().setFullYear((new Date().getFullYear() - 26)),\n    gender: 'Female',\n    likes: ['books', 'cats', 'dogs']\n  },\n  {\n    name: 'alucard',\n    age: 1000,\n    birthday: new Date().setFullYear((new Date().getFullYear() - 1000)),\n    gender: 'Male',\n    likes: ['glasses', 'wine', 'the night']\n  }\n];\n\n\nmongoose.connect('mongodb://localhost/persons', function(err) {\n  if (err) throw err;\n\n  // create all of the dummy people\n  async.each(data, function(item, cb) {\n    Person.create(item, cb);\n  }, function(err) {\n    if (err) {\n      // handle error\n    }\n\n    // lean queries return just plain javascript objects, not\n    // MongooseDocuments. This makes them good for high performance read\n    // situations\n\n    // when using .lean() the default is true, but you can explicitly set the\n    // value by passing in a boolean value. IE. .lean(false)\n    var q = Person.find({age: {$lt: 1000}}).sort('age').limit(2).lean();\n    q.exec(function(err, results) {\n      if (err) throw err;\n      console.log('Are the results MongooseDocuments?: %s', results[0] instanceof mongoose.Document);\n\n      console.log(results);\n      cleanup();\n    });\n  });\n});\n\nfunction cleanup() {\n  Person.remove(function() {\n    mongoose.disconnect();\n  });\n}\n"]}