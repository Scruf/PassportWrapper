{"version":3,"sources":["attributes.js"],"names":[],"mappings":"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","file":"attributes-compiled.js","sourcesContent":["var _ = require('lodash'),\n  $ = require('../static'),\n  utils = require('../utils'),\n  isTag = utils.isTag,\n  domEach = utils.domEach,\n  hasOwn = Object.prototype.hasOwnProperty,\n  camelCase = utils.camelCase,\n  cssCase = utils.cssCase,\n  rspace = /\\s+/,\n  dataAttrPrefix = 'data-',\n\n  // Lookup table for coercing string data-* attributes to their corresponding\n  // JavaScript primitives\n  primitives = {\n    null: null,\n    true: true,\n    false: false\n  },\n\n  // Attributes that are booleans\n  rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n  // Matches strings that look like JSON objects or arrays\n  rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\n\nvar getAttr = function(elem, name) {\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.attribs) {\n    elem.attribs = {};\n  }\n\n  // Return the entire attribs object if no attribute specified\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return rboolean.test(name) ? name : elem.attribs[name];\n  }\n\n  // Mimic the DOM and return text content as value for `option's`\n  if (elem.name === 'option' && name === 'value') {\n    return $.text(elem.children);\n  }\n};\n\nvar setAttr = function(el, name, value) {\n\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = value+'';\n  }\n};\n\nexports.attr = function(name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function(i, el) {\n        setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n    return domEach(this, function(i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        _.each(name, function(value, name) {\n          setAttr(el, name, value);\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return getAttr(this[0], name);\n};\n\nvar getProp = function (el, name) {\n  return el.hasOwnProperty(name)\n      ? el[name]\n      : rboolean.test(name)\n          ? getAttr(el, name) !== undefined\n          : getAttr(el, name);\n};\n\nvar setProp = function (el, name, value) {\n  el[name] = rboolean.test(name) ? !!value : value;\n};\n\nexports.prop = function (name, value) {\n  var i = 0,\n      property;\n\n  if (typeof name === 'string' && value === undefined) {\n\n    switch (name) {\n      case 'style':\n        property = this.css();\n\n        _.each(property, function (v, p) {\n          property[i++] = p;\n        });\n\n        property.length = i;\n\n        break;\n      case 'tagName':\n      case 'nodeName':\n        property = this[0].name.toUpperCase();\n        break;\n      default:\n        property = getProp(this[0], name);\n    }\n\n    return property;\n  }\n\n  if (typeof name === 'object' || value !== undefined) {\n\n    if (typeof value === 'function') {\n      return domEach(this, function(i, el) {\n        setProp(el, name, value.call(el, i, getProp(el, name)));\n      });\n    }\n\n    return domEach(this, function(i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n\n        _.each(name, function(val, name) {\n          setProp(el, name, val);\n        });\n\n      } else {\n        setProp(el, name, value);\n      }\n    });\n\n  }\n};\n\nvar setData = function(el, name, value) {\n  if (!el.data) {\n    el.data = {};\n  }\n\n  if (typeof name === 'object') return _.extend(el.data, name);\n  if (typeof name === 'string' && value !== undefined) {\n    el.data[name] = value;\n  } else if (typeof name === 'object') {\n    _.exend(el.data, name);\n  }\n};\n\n// Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n// and (if present) cache the value in the node's internal data store. If no\n// attribute name is specified, read *all* HTML5 `data-*` attributes in this\n// manner.\nvar readData = function(el, name) {\n  var readAll = arguments.length === 1;\n  var domNames, domName, jsNames, jsName, value, idx, length;\n\n  if (readAll) {\n    domNames = Object.keys(el.attribs).filter(function(attrName) {\n      return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;\n    });\n    jsNames = domNames.map(function(domName) {\n      return camelCase(domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + cssCase(name)];\n    jsNames = [name];\n  }\n\n  for (idx = 0, length = domNames.length; idx < length; ++idx) {\n    domName = domNames[idx];\n    jsName = jsNames[idx];\n    if (hasOwn.call(el.attribs, domName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        try {\n          value = JSON.parse(value);\n        } catch(e){ }\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return readAll ? el.data : value;\n};\n\nexports.data = function(name, value) {\n  var elem = this[0];\n\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.data) {\n    elem.data = {};\n  }\n\n  // Return the entire data object if no data specified\n  if (!name) {\n    return readData(elem);\n  }\n\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    domEach(this, function(i, el) {\n      setData(el, name, value);\n    });\n    return this;\n  } else if (hasOwn.call(elem.data, name)) {\n    return elem.data[name];\n  }\n\n  return readData(elem, name);\n};\n\n/**\n * Get the value of an element\n */\n\nexports.val = function(value) {\n  var querying = arguments.length === 0,\n      element = this[0];\n\n  if(!element) return;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n    case 'input':\n      switch (this.attr('type')) {\n        case 'radio':\n          if (querying) {\n            return this.attr('value');\n          } else {\n            this.attr('value', value);\n            return this;\n          }\n          break;\n        default:\n          return this.attr('value', value);\n      }\n      return;\n    case 'select':\n      var option = this.find('option:selected'),\n          returnValue;\n      if (option === undefined) return undefined;\n      if (!querying) {\n        if (!this.attr().hasOwnProperty('multiple') && typeof value == 'object') {\n          return this;\n        }\n        if (typeof value != 'object') {\n          value = [value];\n        }\n        this.find('option').removeAttr('selected');\n        for (var i = 0; i < value.length; i++) {\n          this.find('option[value=\"' + value[i] + '\"]').attr('selected', '');\n        }\n        return this;\n      }\n      returnValue = option.attr('value');\n      if (this.attr().hasOwnProperty('multiple')) {\n        returnValue = [];\n        domEach(option, function(i, el) {\n          returnValue.push(getAttr(el, 'value'));\n        });\n      }\n      return returnValue;\n    case 'option':\n      if (!querying) {\n        this.attr('value', value);\n        return this;\n      }\n      return this.attr('value');\n  }\n};\n\n/**\n * Remove an attribute\n */\n\nvar removeAttribute = function(elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name))\n    return;\n\n  delete elem.attribs[name];\n};\n\n\nexports.removeAttr = function(name) {\n  domEach(this, function(i, elem) {\n    removeAttribute(elem, name);\n  });\n\n  return this;\n};\n\nexports.hasClass = function(className) {\n  return _.some(this, function(elem) {\n    var attrs = elem.attribs,\n        clazz = attrs && attrs['class'],\n        idx = -1,\n        end;\n\n    if (clazz) {\n      while ((idx = clazz.indexOf(className, idx+1)) > -1) {\n        end = idx + className.length;\n\n        if ((idx === 0 || rspace.test(clazz[idx-1]))\n            && (end === clazz.length || rspace.test(clazz[end]))) {\n          return true;\n        }\n      }\n    }\n  });\n};\n\nexports.addClass = function(value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      var className = el.attribs['class'] || '';\n      exports.addClass.call([el], value.call(el, i, className));\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n      numElements = this.length;\n\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    // If we don't already have classes\n    var className = getAttr(this[i], 'class'),\n        numClasses,\n        setClass;\n\n    if (!className) {\n      setAttr(this[i], 'class', classNames.join(' ').trim());\n    } else {\n      setClass = ' ' + className + ' ';\n      numClasses = classNames.length;\n\n      // Check if class already exists\n      for (var j = 0; j < numClasses; j++) {\n        var appendClass = classNames[j] + ' ';\n        if (setClass.indexOf(' ' + appendClass) < 0)\n          setClass += appendClass;\n      }\n\n      setAttr(this[i], 'class', setClass.trim());\n    }\n  }\n\n  return this;\n};\n\nvar splitClass = function(className) {\n  return className ? className.trim().split(rspace) : [];\n};\n\nexports.removeClass = function(value) {\n  var classes,\n      numClasses,\n      removeAll;\n\n  // Handle if value is a function\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      exports.removeClass.call(\n        [el], value.call(el, i, el.attribs['class'] || '')\n      );\n    });\n  }\n\n  classes = splitClass(value);\n  numClasses = classes.length;\n  removeAll = arguments.length === 0;\n\n  return domEach(this, function(i, el) {\n    if (!isTag(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs.class = '';\n    } else {\n      var elClasses = splitClass(el.attribs.class),\n          index,\n          changed;\n\n      for (var j = 0; j < numClasses; j++) {\n        index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n\n          // We have to do another pass to ensure that there are not duplicate\n          // classes listed\n          j--;\n        }\n      }\n      if (changed) {\n        el.attribs.class = elClasses.join(' ');\n      }\n    }\n  });\n};\n\nexports.toggleClass = function(value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      exports.toggleClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '', stateVal),\n        stateVal\n      );\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n    numClasses = classNames.length,\n    state = typeof stateVal === 'boolean' ? stateVal ? 1 : -1 : 0,\n    numElements = this.length,\n    elementClasses,\n    index;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    elementClasses = splitClass(this[i].attribs.class);\n\n    // Check if class already exists\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      index = elementClasses.indexOf(classNames[j]);\n\n      // Add if stateValue === true or we are toggling and there is no value\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    this[i].attribs.class = elementClasses.join(' ');\n  }\n\n  return this;\n};\n\nexports.is = function (selector) {\n  if (selector) {\n    return this.filter(selector).length > 0;\n  }\n  return false;\n};\n\n"]}