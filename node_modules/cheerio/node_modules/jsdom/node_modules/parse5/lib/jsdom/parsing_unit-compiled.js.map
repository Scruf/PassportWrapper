{"version":3,"sources":["parsing_unit.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,cAAc,OAAO,OAAP,GAAiB,UAAU,MAAV,EAAkB;AACjD,SAAK,MAAL,GAAc,MAAd,CADiD;AAEjD,SAAK,SAAL,GAAiB,KAAjB,CAFiD;AAGjD,SAAK,eAAL,GAAuB,KAAvB,CAHiD;AAIjD,SAAK,QAAL,GAAgB,IAAhB,CAJiD;CAAlB;;AAOnC,YAAY,SAAZ,CAAsB,WAAtB,GAAoC,UAAU,OAAV,EAAmB;AACnD,QAAI,KAAK,SAAL,IAAkB,OAAlB,EACA,MAAM,IAAI,KAAJ,CAAU,8EAAV,CAAN,CADJ,KAGK,IAAI,CAAC,KAAK,SAAL,IAAkB,CAAC,OAAD,EACxB,MAAM,IAAI,KAAJ,CAAU,4EAAV,CAAN,CADC;;AAGL,WAAO,OAAP,CAPmD;CAAnB;;AAUpC,YAAY,SAAZ,CAAsB,OAAtB,GAAgC,YAAY;AACxC,SAAK,SAAL,GAAiB,KAAK,WAAL,CAAiB,IAAjB,CAAjB,CADwC;;AAGxC,WAAO,IAAP,CAHwC;CAAZ;;AAMhC,YAAY,SAAZ,CAAsB,MAAtB,GAA+B,YAAY;AACvC,SAAK,SAAL,GAAiB,KAAK,WAAL,CAAiB,KAAjB,CAAjB;;;;AADuC,QAKnC,CAAC,KAAK,eAAL,EACD,KAAK,MAAL,CAAY,eAAZ,GADJ;;AAGA,WAAO,IAAP,CARuC;CAAZ;;AAW/B,YAAY,SAAZ,CAAsB,aAAtB,GAAsC,UAAU,IAAV,EAAgB;AAClD,SAAK,MAAL,CAAY,SAAZ,CAAsB,YAAtB,CAAmC,KAAnC,CAAyC,IAAzC,EADkD;;AAGlD,WAAO,IAAP,CAHkD;CAAhB;;AAMtC,YAAY,SAAZ,CAAsB,aAAtB,GAAsC,UAAU,aAAV,EAAyB;AAC3D,SAAK,MAAL,CAAY,aAAZ,GAA4B,aAA5B,CAD2D;;AAG3D,WAAO,IAAP,CAH2D;CAAzB;;AAMtC,YAAY,SAAZ,CAAsB,IAAtB,GAA6B,UAAU,QAAV,EAAoB;AAC7C,SAAK,QAAL,GAAgB,QAAhB,CAD6C;;AAG7C,WAAO,IAAP,CAH6C;CAApB","file":"parsing_unit-compiled.js","sourcesContent":["'use strict';\r\n\r\nvar ParsingUnit = module.exports = function (parser) {\r\n    this.parser = parser;\r\n    this.suspended = false;\r\n    this.parsingLoopLock = false;\r\n    this.callback = null;\r\n};\r\n\r\nParsingUnit.prototype._stateGuard = function (suspend) {\r\n    if (this.suspended && suspend)\r\n        throw new Error('parse5: Parser was already suspended. Please, check your control flow logic.');\r\n\r\n    else if (!this.suspended && !suspend)\r\n        throw new Error('parse5: Parser was already resumed. Please, check your control flow logic.');\r\n\r\n    return suspend;\r\n};\r\n\r\nParsingUnit.prototype.suspend = function () {\r\n    this.suspended = this._stateGuard(true);\r\n\r\n    return this;\r\n};\r\n\r\nParsingUnit.prototype.resume = function () {\r\n    this.suspended = this._stateGuard(false);\r\n\r\n    //NOTE: don't enter parsing loop if it is locked. Without this lock _runParsingLoop() may be called\r\n    //while parsing loop is still running. E.g. when suspend() and resume() called synchronously.\r\n    if (!this.parsingLoopLock)\r\n        this.parser._runParsingLoop();\r\n\r\n    return this;\r\n};\r\n\r\nParsingUnit.prototype.documentWrite = function (html) {\r\n    this.parser.tokenizer.preprocessor.write(html);\r\n\r\n    return this;\r\n};\r\n\r\nParsingUnit.prototype.handleScripts = function (scriptHandler) {\r\n    this.parser.scriptHandler = scriptHandler;\r\n\r\n    return this;\r\n};\r\n\r\nParsingUnit.prototype.done = function (callback) {\r\n    this.callback = callback;\r\n\r\n    return this;\r\n};\r\n"]}