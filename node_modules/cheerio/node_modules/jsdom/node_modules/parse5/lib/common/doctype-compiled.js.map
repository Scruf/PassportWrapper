{"version":3,"sources":["doctype.js"],"names":[],"mappings":"AAAA;;;;AAGA,IAAI,qBAAqB,MAArB;IACA,wBAAwB,4DAAxB;IACA,iCAAiC,CAC7B,8CAD6B,EAE7B,wDAF6B,EAG7B,8CAH6B,EAI7B,mCAJ6B,EAK7B,mCAL6B,EAM7B,0CAN6B,EAO7B,0CAP6B,EAQ7B,kCAR6B,EAS7B,2BAT6B,EAU7B,4BAV6B,EAW7B,2BAX6B,EAY7B,6BAZ6B,EAa7B,iCAb6B,EAc7B,2BAd6B,EAe7B,yBAf6B,EAgB7B,+BAhB6B,EAiB7B,oCAjB6B,EAkB7B,+BAlB6B,EAmB7B,oCAnB6B,EAoB7B,+BApB6B,EAqB7B,oCArB6B,EAsB7B,+BAtB6B,EAuB7B,oCAvB6B,EAwB7B,sCAxB6B,EAyB7B,2CAzB6B,EA0B7B,sCA1B6B,EA2B7B,2CA3B6B,EA4B7B,sCA5B6B,EA6B7B,2CA7B6B,EA8B7B,sCA9B6B,EA+B7B,2CA/B6B,EAgC7B,8BAhC6B,EAiC7B,mCAjC6B,EAkC7B,mCAlC6B,EAmC7B,uBAnC6B,EAoC7B,4BApC6B,EAqC7B,4BArC6B,EAsC7B,4CAtC6B,EAuC7B,yDAvC6B,EAwC7B,kDAxC6B,EAyC7B,oDAzC6B,EA0C7B,yDA1C6B,EA2C7B,kDA3C6B,EA4C7B,oDA5C6B,EA6C7B,uCA7C6B,EA8C7B,8CA9C6B,EA+C7B,8CA/C6B,EAgD7B,uDAhD6B,EAiD7B,wCAjD6B,EAkD7B,+CAlD6B,EAmD7B,iDAnD6B,EAoD7B,wDApD6B,EAqD7B,mCArD6B,EAsD7B,gCAtD6B,EAuD7B,gCAvD6B,EAwD7B,0BAxD6B,EAyD7B,iCAzD6B,EA0D7B,mCA1D6B,EA2D7B,uCA3D6B,EA4D7B,4CA5D6B,EA6D7B,0CA7D6B,EA8D7B,yBA9D6B,EA+D7B,6BA/D6B,EAgE7B,+BAhE6B,EAiE7B,uCAjE6B,EAkE7B,mCAlE6B,CAAjC;IAoEA,8CAA8C,CAC1C,kCAD0C,EAE1C,sCAF0C,CAA9C;IAIA,yBAAyB,CACrB,sCADqB,EAErB,oCAFqB,EAGrB,MAHqB,CAAzB;;;AAQJ,SAAS,gBAAT,CAA0B,EAA1B,EAA8B;AAC1B,QAAI,QAAQ,GAAG,OAAH,CAAW,GAAX,MAAoB,CAAC,CAAD,GAAK,IAAzB,GAAgC,GAAhC,CADc;;AAG1B,WAAO,QAAQ,EAAR,GAAa,KAAb,CAHmB;CAA9B;;;AAQA,QAAQ,QAAR,GAAmB,UAAU,IAAV,EAAgB,QAAhB,EAA0B,QAA1B,EAAoC;AACnD,QAAI,SAAS,kBAAT,EACA,OAAO,IAAP,CADJ;;AAGA,QAAI,YAAY,SAAS,WAAT,OAA2B,qBAA3B,EACZ,OAAO,IAAP,CADJ;;AAGA,QAAI,aAAa,IAAb,EAAmB;AACnB,mBAAW,SAAS,WAAT,EAAX,CADmB;;AAGnB,YAAI,uBAAuB,OAAvB,CAA+B,QAA/B,IAA2C,CAAC,CAAD,EAC3C,OAAO,IAAP,CADJ;;AAGA,YAAI,WAAW,8BAAX,CANe;;AAQnB,YAAI,aAAa,IAAb,EACA,WAAW,SAAS,MAAT,CAAgB,2CAAhB,CAAX,CADJ;;AAGA,aAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,SAAS,MAAT,EAAiB,GAArC,EAA0C;AACtC,gBAAI,SAAS,OAAT,CAAiB,SAAS,CAAT,CAAjB,MAAkC,CAAlC,EACA,OAAO,IAAP,CADJ;SADJ;KAXJ;;AAiBA,WAAO,KAAP,CAxBmD;CAApC;;AA2BnB,QAAQ,gBAAR,GAA2B,UAAU,IAAV,EAAgB,QAAhB,EAA0B,QAA1B,EAAoC;AAC3D,QAAI,MAAM,cAAc,IAAd,CADiD;;AAG3D,QAAI,aAAa,IAAb,EACA,OAAO,aAAa,iBAAiB,QAAjB,CAAb,CADX,KAGK,IAAI,aAAa,IAAb,EACL,OAAO,SAAP,CADC;;AAGL,QAAI,aAAa,IAAb,EACA,OAAO,MAAM,iBAAiB,QAAjB,CAAN,CADX;;AAGA,WAAO,GAAP,CAZ2D;CAApC","file":"doctype-compiled.js","sourcesContent":["'use strict';\r\n\r\n//Const\r\nvar VALID_DOCTYPE_NAME = 'html',\r\n    QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd',\r\n    QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\r\n        \"+//silmaril//dtd html pro v0r11 19970101//en\",\r\n        \"-//advasoft ltd//dtd html 3.0 aswedit + extensions//en\",\r\n        \"-//as//dtd html 3.0 aswedit + extensions//en\",\r\n        \"-//ietf//dtd html 2.0 level 1//en\",\r\n        \"-//ietf//dtd html 2.0 level 2//en\",\r\n        \"-//ietf//dtd html 2.0 strict level 1//en\",\r\n        \"-//ietf//dtd html 2.0 strict level 2//en\",\r\n        \"-//ietf//dtd html 2.0 strict//en\",\r\n        \"-//ietf//dtd html 2.0//en\",\r\n        \"-//ietf//dtd html 2.1e//en\",\r\n        \"-//ietf//dtd html 3.0//en\",\r\n        \"-//ietf//dtd html 3.0//en//\",\r\n        \"-//ietf//dtd html 3.2 final//en\",\r\n        \"-//ietf//dtd html 3.2//en\",\r\n        \"-//ietf//dtd html 3//en\",\r\n        \"-//ietf//dtd html level 0//en\",\r\n        \"-//ietf//dtd html level 0//en//2.0\",\r\n        \"-//ietf//dtd html level 1//en\",\r\n        \"-//ietf//dtd html level 1//en//2.0\",\r\n        \"-//ietf//dtd html level 2//en\",\r\n        \"-//ietf//dtd html level 2//en//2.0\",\r\n        \"-//ietf//dtd html level 3//en\",\r\n        \"-//ietf//dtd html level 3//en//3.0\",\r\n        \"-//ietf//dtd html strict level 0//en\",\r\n        \"-//ietf//dtd html strict level 0//en//2.0\",\r\n        \"-//ietf//dtd html strict level 1//en\",\r\n        \"-//ietf//dtd html strict level 1//en//2.0\",\r\n        \"-//ietf//dtd html strict level 2//en\",\r\n        \"-//ietf//dtd html strict level 2//en//2.0\",\r\n        \"-//ietf//dtd html strict level 3//en\",\r\n        \"-//ietf//dtd html strict level 3//en//3.0\",\r\n        \"-//ietf//dtd html strict//en\",\r\n        \"-//ietf//dtd html strict//en//2.0\",\r\n        \"-//ietf//dtd html strict//en//3.0\",\r\n        \"-//ietf//dtd html//en\",\r\n        \"-//ietf//dtd html//en//2.0\",\r\n        \"-//ietf//dtd html//en//3.0\",\r\n        \"-//metrius//dtd metrius presentational//en\",\r\n        \"-//microsoft//dtd internet explorer 2.0 html strict//en\",\r\n        \"-//microsoft//dtd internet explorer 2.0 html//en\",\r\n        \"-//microsoft//dtd internet explorer 2.0 tables//en\",\r\n        \"-//microsoft//dtd internet explorer 3.0 html strict//en\",\r\n        \"-//microsoft//dtd internet explorer 3.0 html//en\",\r\n        \"-//microsoft//dtd internet explorer 3.0 tables//en\",\r\n        \"-//netscape comm. corp.//dtd html//en\",\r\n        \"-//netscape comm. corp.//dtd strict html//en\",\r\n        \"-//o'reilly and associates//dtd html 2.0//en\",\r\n        \"-//o'reilly and associates//dtd html extended 1.0//en\",\r\n        \"-//spyglass//dtd html 2.0 extended//en\",\r\n        \"-//sq//dtd html 2.0 hotmetal + extensions//en\",\r\n        \"-//sun microsystems corp.//dtd hotjava html//en\",\r\n        \"-//sun microsystems corp.//dtd hotjava strict html//en\",\r\n        \"-//w3c//dtd html 3 1995-03-24//en\",\r\n        \"-//w3c//dtd html 3.2 draft//en\",\r\n        \"-//w3c//dtd html 3.2 final//en\",\r\n        \"-//w3c//dtd html 3.2//en\",\r\n        \"-//w3c//dtd html 3.2s draft//en\",\r\n        \"-//w3c//dtd html 4.0 frameset//en\",\r\n        \"-//w3c//dtd html 4.0 transitional//en\",\r\n        \"-//w3c//dtd html experimental 19960712//en\",\r\n        \"-//w3c//dtd html experimental 970421//en\",\r\n        \"-//w3c//dtd w3 html//en\",\r\n        \"-//w3o//dtd w3 html 3.0//en\",\r\n        \"-//w3o//dtd w3 html 3.0//en//\",\r\n        \"-//webtechs//dtd mozilla html 2.0//en\",\r\n        \"-//webtechs//dtd mozilla html//en\"\r\n    ],\r\n    QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\r\n        '-//w3c//dtd html 4.01 frameset//',\r\n        '-//w3c//dtd html 4.01 transitional//'\r\n    ],\r\n    QUIRKS_MODE_PUBLIC_IDS = [\r\n        '-//w3o//dtd w3 html strict 3.0//en//',\r\n        '-/w3c/dtd html 4.0 transitional/en',\r\n        'html'\r\n    ];\r\n\r\n\r\n//Utils\r\nfunction enquoteDoctypeId(id) {\r\n    var quote = id.indexOf('\"') !== -1 ? '\\'' : '\"';\r\n\r\n    return quote + id + quote;\r\n}\r\n\r\n\r\n//API\r\nexports.isQuirks = function (name, publicId, systemId) {\r\n    if (name !== VALID_DOCTYPE_NAME)\r\n        return true;\r\n\r\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID)\r\n        return true;\r\n\r\n    if (publicId !== null) {\r\n        publicId = publicId.toLowerCase();\r\n\r\n        if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1)\r\n            return true;\r\n\r\n        var prefixes = QUIRKS_MODE_PUBLIC_ID_PREFIXES;\r\n\r\n        if (systemId === null)\r\n            prefixes = prefixes.concat(QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES);\r\n\r\n        for (var i = 0; i < prefixes.length; i++) {\r\n            if (publicId.indexOf(prefixes[i]) === 0)\r\n                return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nexports.serializeContent = function (name, publicId, systemId) {\r\n    var str = '!DOCTYPE ' + name;\r\n\r\n    if (publicId !== null)\r\n        str += ' PUBLIC ' + enquoteDoctypeId(publicId);\r\n\r\n    else if (systemId !== null)\r\n        str += ' SYSTEM';\r\n\r\n    if (systemId !== null)\r\n        str += ' ' + enquoteDoctypeId(systemId);\r\n\r\n    return str;\r\n};\r\n"]}