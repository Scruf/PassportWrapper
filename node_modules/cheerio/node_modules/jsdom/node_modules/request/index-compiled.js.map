{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["// Copyright 2010-2012 Mikeal Rogers\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\n\n'use strict'\n\nvar extend                = require('extend')\n  , cookies               = require('./lib/cookies')\n  , helpers               = require('./lib/helpers')\n\nvar isFunction            = helpers.isFunction\n  , paramsHaveRequestBody = helpers.paramsHaveRequestBody\n\n\n// organize params for patch, post, put, head, del\nfunction initParams(uri, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n  }\n\n  var params = {}\n  if (typeof options === 'object') {\n    extend(params, options, {uri: uri})\n  } else if (typeof uri === 'string') {\n    extend(params, {uri: uri})\n  } else {\n    extend(params, uri)\n  }\n\n  params.callback = callback\n  return params\n}\n\nfunction request (uri, options, callback) {\n  if (typeof uri === 'undefined') {\n    throw new Error('undefined is not a valid uri or options object.')\n  }\n\n  var params = initParams(uri, options, callback)\n\n  if (params.method === 'HEAD' && paramsHaveRequestBody(params)) {\n    throw new Error('HTTP HEAD requests MUST NOT include a request body.')\n  }\n\n  return new request.Request(params)\n}\n\nfunction verbFunc (verb) {\n  var method = verb === 'del' ? 'DELETE' : verb.toUpperCase()\n  return function (uri, options, callback) {\n    var params = initParams(uri, options, callback)\n    params.method = method\n    return request(params, params.callback)\n  }\n}\n\n// define like this to please codeintel/intellisense IDEs\nrequest.get = verbFunc('get')\nrequest.head = verbFunc('head')\nrequest.post = verbFunc('post')\nrequest.put = verbFunc('put')\nrequest.patch = verbFunc('patch')\nrequest.del = verbFunc('del')\n\nrequest.jar = function (store) {\n  return cookies.jar(store)\n}\n\nrequest.cookie = function (str) {\n  return cookies.parse(str)\n}\n\nfunction wrapRequestMethod (method, options, requester, verb) {\n\n  return function (uri, opts, callback) {\n    var params = initParams(uri, opts, callback)\n\n    var target = {}\n    extend(true, target, options, params)\n\n    target.pool = params.pool || options.pool\n\n    if (verb) {\n      target.method = (verb === 'del' ? 'DELETE' : verb.toUpperCase())\n    }\n\n    if (isFunction(requester)) {\n      method = requester\n    }\n\n    return method(target, target.callback)\n  }\n}\n\nrequest.defaults = function (options, requester) {\n  var self = this\n\n  options = options || {}\n\n  if (typeof options === 'function') {\n    requester = options\n    options = {}\n  }\n\n  var defaults      = wrapRequestMethod(self, options, requester)\n\n  var verbs = ['get', 'head', 'post', 'put', 'patch', 'del']\n  verbs.forEach(function(verb) {\n    defaults[verb]  = wrapRequestMethod(self[verb], options, requester, verb)\n  })\n\n  defaults.cookie   = wrapRequestMethod(self.cookie, options, requester)\n  defaults.jar      = self.jar\n  defaults.defaults = self.defaults\n  return defaults\n}\n\nrequest.forever = function (agentOptions, optionsArg) {\n  var options = {}\n  if (optionsArg) {\n    extend(options, optionsArg)\n  }\n  if (agentOptions) {\n    options.agentOptions = agentOptions\n  }\n\n  options.forever = true\n  return request.defaults(options)\n}\n\n// Exports\n\nmodule.exports = request\nrequest.Request = require('./request')\nrequest.initParams = initParams\n\n// Backwards compatibility for request.debug\nObject.defineProperty(request, 'debug', {\n  enumerable : true,\n  get : function() {\n    return request.Request.debug\n  },\n  set : function(debug) {\n    request.Request.debug = debug\n  }\n})\n"]}