{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAP;;AAEJ,IAAI,eAAe,QAAf;AACJ,IAAI,aAAa,QAAb;;AAEJ,OAAO,OAAP,GAAiB,YAAW;AAC1B,MAAI,QAAQ,EAAR,CADsB;AAE1B,MAAI,SAAS,CAAT,CAFsB;;AAI1B,MAAI,OAAO,UAAS,GAAT,EAAc;AACvB,QAAI,SAAS,EAAT,CADmB;AAEvB,WAAO,OAAO,MAAP,GAAgB,SAAO,CAAP,EAAU,UAAU,IAAV,CAAjC;AACA,UAAM,IAAN,CAAW,SAAO,GAAP,CAAX,CAHuB;GAAd,CAJe;;AAU1B,MAAI,OAAO,UAAS,GAAT,EAAc;AACvB,QAAI,CAAC,GAAD,EAAM,OAAO,IAAP,CAAV;;AAEA,QAAI,WAAW,IAAX,CAAgB,IAAI,IAAJ,GAAW,CAAX,CAAhB,KAAkC,aAAa,IAAb,CAAkB,IAAI,IAAI,MAAJ,GAAW,CAAX,CAAtB,CAAlC,EAAwE;AAC1E,eAD0E;AAE1E,WAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,SAAxB,CAAL,EAF0E;AAG1E,eAH0E;AAI1E,aAAO,IAAP,CAJ0E;KAA5E;AAMA,QAAI,aAAa,IAAb,CAAkB,IAAI,IAAI,MAAJ,GAAW,CAAX,CAAtB,CAAJ,EAA0C;AACxC,WAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,SAAxB,CAAL,EADwC;AAExC,eAFwC;AAGxC,aAAO,IAAP,CAHwC;KAA1C;AAKA,QAAI,WAAW,IAAX,CAAgB,IAAI,IAAJ,GAAW,CAAX,CAAhB,CAAJ,EAAoC;AAClC,eADkC;AAElC,WAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,SAAxB,CAAL,EAFkC;AAGlC,aAAO,IAAP,CAHkC;KAApC;;AAMA,SAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,SAAxB,CAAL,EApBuB;AAqBvB,WAAO,IAAP,CArBuB;GAAd,CAVe;;AAkC1B,OAAK,QAAL,GAAgB,YAAW;AACzB,WAAO,MAAM,IAAN,CAAW,IAAX,CAAP,CADyB;GAAX,CAlCU;;AAsC1B,OAAK,UAAL,GAAkB,UAAS,KAAT,EAAgB;AAChC,QAAI,MAAM,aAAW,KAAK,QAAL,EAAX,GAA2B,GAA3B,CADsB;;AAGhC,QAAI,OAAO,OAAO,IAAP,CAAY,SAAS,EAAT,CAAZ,CAAyB,GAAzB,CAA6B,UAAS,GAAT,EAAc;AACpD,aAAO,GAAP,CADoD;KAAd,CAApC,CAH4B;;AAOhC,QAAI,OAAO,KAAK,GAAL,CAAS,UAAS,GAAT,EAAc;AAChC,aAAO,MAAM,GAAN,CAAP,CADgC;KAAd,CAAhB,CAP4B;;AAWhC,WAAO,SAAS,KAAT,CAAe,IAAf,EAAqB,KAAK,MAAL,CAAY,GAAZ,CAArB,EAAuC,KAAvC,CAA6C,IAA7C,EAAmD,IAAnD,CAAP,CAXgC;GAAhB,CAtCQ;;AAoD1B,MAAI,UAAU,MAAV,EAAkB,KAAK,KAAL,CAAW,IAAX,EAAiB,SAAjB,EAAtB;;AAEA,SAAO,IAAP,CAtD0B;CAAX","file":"index-compiled.js","sourcesContent":["var util = require('util')\n\nvar INDENT_START = /[\\{\\[]/\nvar INDENT_END = /[\\}\\]]/\n\nmodule.exports = function() {\n  var lines = []\n  var indent = 0\n\n  var push = function(str) {\n    var spaces = ''\n    while (spaces.length < indent*2) spaces += '  '\n    lines.push(spaces+str)\n  }\n\n  var line = function(fmt) {\n    if (!fmt) return line\n\n    if (INDENT_END.test(fmt.trim()[0]) && INDENT_START.test(fmt[fmt.length-1])) {\n      indent--\n      push(util.format.apply(util, arguments))\n      indent++\n      return line\n    }\n    if (INDENT_START.test(fmt[fmt.length-1])) {\n      push(util.format.apply(util, arguments))\n      indent++\n      return line\n    }\n    if (INDENT_END.test(fmt.trim()[0])) {\n      indent--\n      push(util.format.apply(util, arguments))\n      return line\n    }\n\n    push(util.format.apply(util, arguments))\n    return line\n  }\n\n  line.toString = function() {\n    return lines.join('\\n')\n  }\n\n  line.toFunction = function(scope) {\n    var src = 'return ('+line.toString()+')'\n\n    var keys = Object.keys(scope || {}).map(function(key) {\n      return key\n    })\n\n    var vals = keys.map(function(key) {\n      return scope[key]\n    })\n\n    return Function.apply(null, keys.concat(src)).apply(null, vals)\n  }\n\n  if (arguments.length) line.apply(null, arguments)\n\n  return line\n}\n"]}