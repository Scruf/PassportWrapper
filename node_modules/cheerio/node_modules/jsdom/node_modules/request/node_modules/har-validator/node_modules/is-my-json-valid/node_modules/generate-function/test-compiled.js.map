{"version":3,"sources":["test.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,SAAS,QAAQ,IAAR,CAAT;;AAEJ,KAAK,uBAAL,EAA8B,UAAS,CAAT,EAAY;AACxC,MAAI,KAAK,SACN,mBADM,EAEJ,eAFI,EAEa,EAFb,EAGN,GAHM,CAAL,CADoC;;AAMxC,IAAE,IAAF,CAAO,GAAG,QAAH,EAAP,EAAsB,uCAAtB,EAA+D,kBAA/D,EANwC;AAOxC,IAAE,IAAF,CAAO,GAAG,UAAH,GAAgB,EAAhB,CAAP,EAA4B,EAA5B,EAAgC,gBAAhC,EAPwC;AAQxC,IAAE,GAAF,GARwC;CAAZ,CAA9B;;AAWA,KAAK,sCAAL,EAA6C,UAAS,CAAT,EAAY;AACvD,MAAI,KAAK,SACN,mBADM,EAEJ,wBAFI,EAEsB,EAFtB,EAGN,GAHM,CAAL,CADmD;;AAMvD,MAAI,UAAU,GAAG,UAAH,EAAV,CANmD;AAOvD,MAAI,OAAO,GAAG,UAAH,CAAc,EAAC,QAAO,EAAP,EAAf,CAAP,CAPmD;;AASvD,MAAI;AACF,YAAQ,EAAR,EADE;AAEF,MAAE,EAAF,CAAK,KAAL,EAAY,0BAAZ,EAFE;GAAJ,CAGE,OAAO,GAAP,EAAY;AACZ,MAAE,IAAF,CAAO,IAAI,OAAJ,EAAa,uBAApB,EAA6C,wBAA7C,EADY;GAAZ;;AAIF,IAAE,IAAF,CAAO,KAAK,EAAL,CAAP,EAAiB,EAAjB,EAAqB,gCAArB,EAhBuD;AAiBvD,IAAE,GAAF,GAjBuD;CAAZ,CAA7C","file":"test-compiled.js","sourcesContent":["var tape = require('tape')\nvar genfun = require('./')\n\ntape('generate add function', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d', 42)\n    ('}')\n\n  t.same(fn.toString(), 'function add(n) {\\n  return n + 42\\n}', 'code is indented')\n  t.same(fn.toFunction()(10), 52, 'function works')\n  t.end()\n})\n\ntape('generate function + closed variables', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d + number', 42)\n    ('}')\n\n  var notGood = fn.toFunction()\n  var good = fn.toFunction({number:10})\n\n  try {\n    notGood(10)\n    t.ok(false, 'function should not work')\n  } catch (err) {\n    t.same(err.message, 'number is not defined', 'throws reference error')\n  }\n\n  t.same(good(11), 63, 'function with closed var works')\n  t.end()\n})"]}