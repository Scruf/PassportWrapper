{"version":3,"sources":["yallist.js"],"names":[],"mappings":"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","file":"yallist-compiled.js","sourcesContent":["module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length --\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length ++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length ++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail)\n    return undefined\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  this.tail.next = null\n  this.length --\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head)\n    return undefined\n\n  var res = this.head.value\n  this.head = this.head.next\n  this.head.prev = null\n  this.length --\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null; ) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length ++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length ++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n"]}