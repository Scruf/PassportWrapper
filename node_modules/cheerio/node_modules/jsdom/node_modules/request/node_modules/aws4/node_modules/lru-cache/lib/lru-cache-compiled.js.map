{"version":3,"sources":["lru-cache.js"],"names":[],"mappings":"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","file":"lru-cache-compiled.js","sourcesContent":["module.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar symbols = {}\nvar hasSymbol = typeof Symbol === 'function'\nvar makeSymbol\n/* istanbul ignore if */\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol.for(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nfunction priv (obj, key, val) {\n  var sym\n  if (symbols[key]) {\n    sym = symbols[key]\n  } else {\n    sym = makeSymbol(key)\n    symbols[key] = sym\n  }\n  if (arguments.length === 2) {\n    return obj[sym]\n  } else {\n    obj[sym] = val\n    return val\n  }\n}\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = priv(this, 'max', options.max)\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    priv(this, 'max', Infinity)\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  priv(this, 'lengthCalculator', lc)\n\n  priv(this, 'allowStale', options.stale || false)\n  priv(this, 'maxAge', options.maxAge || 0)\n  priv(this, 'dispose', options.dispose)\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    priv(this, 'max', mL)\n    trim(this)\n  },\n  get: function () {\n    return priv(this, 'max')\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    priv(this, 'allowStale', !!allowStale)\n  },\n  get: function () {\n    return priv(this, 'allowStale')\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    priv(this, 'maxAge', mA)\n    trim(this)\n  },\n  get: function () {\n    return priv(this, 'maxAge')\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== priv(this, 'lengthCalculator')) {\n      priv(this, 'lengthCalculator', lC)\n      priv(this, 'length', 0)\n      priv(this, 'lruList').forEach(function (hit) {\n        hit.length = priv(this, 'lengthCalculator').call(this, hit.value, hit.key)\n        priv(this, 'length', priv(this, 'length') + hit.length)\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return priv(this, 'lengthCalculator') },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return priv(this, 'length') },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return priv(this, 'lruList').length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = priv(this, 'lruList').tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!priv(self, 'allowStale')) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = priv(this, 'lruList').head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return priv(this, 'lruList').toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return priv(this, 'lruList').toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (priv(this, 'dispose') &&\n      priv(this, 'lruList') &&\n      priv(this, 'lruList').length) {\n    priv(this, 'lruList').forEach(function (hit) {\n      priv(this, 'dispose').call(this, hit.key, hit.value)\n    }, this)\n  }\n\n  priv(this, 'cache', new Map()) // hash of items by key\n  priv(this, 'lruList', new Yallist()) // list of items in order of use recency\n  priv(this, 'length', 0) // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return priv(this, 'lruList').map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return priv(this, 'lruList')\n}\n\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = priv(this, 'allowStale')\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = priv(this, 'max')\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = priv(this, 'maxAge')\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = priv(this, 'lengthCalculator')\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(priv(this, 'length'), opts)\n    extras = true\n  }\n\n  var didFirst = false\n  priv(this, 'lruList').forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || priv(this, 'maxAge')\n\n  var now = maxAge ? Date.now() : 0\n  var len = priv(this, 'lengthCalculator').call(this, value, key)\n\n  if (priv(this, 'cache').has(key)) {\n    if (len > priv(this, 'max')) {\n      del(this, priv(this, 'cache').get(key))\n      return false\n    }\n\n    var node = priv(this, 'cache').get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    if (priv(this, 'dispose')) {\n      priv(this, 'dispose').call(this, key, item.value)\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    priv(this, 'length', priv(this, 'length') + (len - item.length))\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > priv(this, 'max')) {\n    if (priv(this, 'dispose')) {\n      priv(this, 'dispose').call(this, key, value)\n    }\n    return false\n  }\n\n  priv(this, 'length', priv(this, 'length') + hit.length)\n  priv(this, 'lruList').unshift(hit)\n  priv(this, 'cache').set(key, priv(this, 'lruList').head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!priv(this, 'cache').has(key)) return false\n  var hit = priv(this, 'cache').get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = priv(this, 'lruList').tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, priv(this, 'cache').get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  priv(this, 'cache').forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = priv(self, 'cache').get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!priv(self, 'allowStale')) hit = undefined\n    } else {\n      if (doUse) {\n        priv(self, 'lruList').unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !priv(self, 'maxAge'))) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = priv(self, 'maxAge') && (diff > priv(self, 'maxAge'))\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (priv(self, 'length') > priv(self, 'max')) {\n    for (var walker = priv(self, 'lruList').tail;\n         priv(self, 'length') > priv(self, 'max') && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (priv(self, 'dispose')) {\n      priv(self, 'dispose').call(this, hit.key, hit.value)\n    }\n    priv(self, 'length', priv(self, 'length') - hit.length)\n    priv(self, 'cache').delete(hit.key)\n    priv(self, 'lruList').removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n"]}