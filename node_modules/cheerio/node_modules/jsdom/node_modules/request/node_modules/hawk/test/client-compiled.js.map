{"version":3,"sources":["client.js"],"names":[],"mappings":"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","file":"client-compiled.js","sourcesContent":["// Load modules\r\n\r\nvar Url = require('url');\r\nvar Code = require('code');\r\nvar Hawk = require('../lib');\r\nvar Lab = require('lab');\r\n\r\n\r\n// Declare internals\r\n\r\nvar internals = {};\r\n\r\n\r\n// Test shortcuts\r\n\r\nvar lab = exports.lab = Lab.script();\r\nvar describe = lab.experiment;\r\nvar it = lab.test;\r\nvar expect = Code.expect;\r\n\r\n\r\ndescribe('Client', function () {\r\n\r\n    describe('header()', function () {\r\n\r\n        it('returns a valid authorization header (sha1)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var header = Hawk.client.header('http://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, ext: 'Bazinga!', timestamp: 1353809207, nonce: 'Ygvqdz', payload: 'something to write about' }).field;\r\n            expect(header).to.equal('Hawk id=\"123456\", ts=\"1353809207\", nonce=\"Ygvqdz\", hash=\"bsvY3IfUllw6V5rvk4tStEvpBhE=\", ext=\"Bazinga!\", mac=\"qbf1ZPG/r/e06F4ht+T77LXi5vw=\"');\r\n            done();\r\n        });\r\n\r\n        it('returns a valid authorization header (sha256)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, ext: 'Bazinga!', timestamp: 1353809207, nonce: 'Ygvqdz', payload: 'something to write about', contentType: 'text/plain' }).field;\r\n            expect(header).to.equal('Hawk id=\"123456\", ts=\"1353809207\", nonce=\"Ygvqdz\", hash=\"2QfCt3GuY9HQnHWyWD3wX68ZOKbynqlfYmuO2ZBRqtY=\", ext=\"Bazinga!\", mac=\"q1CwFoSHzPZSkbIvl0oYlD+91rBUEvFk763nMjMndj8=\"');\r\n            done();\r\n        });\r\n\r\n        it('returns a valid authorization header (no ext)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, timestamp: 1353809207, nonce: 'Ygvqdz', payload: 'something to write about', contentType: 'text/plain' }).field;\r\n            expect(header).to.equal('Hawk id=\"123456\", ts=\"1353809207\", nonce=\"Ygvqdz\", hash=\"2QfCt3GuY9HQnHWyWD3wX68ZOKbynqlfYmuO2ZBRqtY=\", mac=\"HTgtd0jPI6E4izx8e4OHdO36q00xFCU0FolNq3RiCYs=\"');\r\n            done();\r\n        });\r\n\r\n        it('returns a valid authorization header (null ext)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, timestamp: 1353809207, nonce: 'Ygvqdz', payload: 'something to write about', contentType: 'text/plain', ext: null }).field;\r\n            expect(header).to.equal('Hawk id=\"123456\", ts=\"1353809207\", nonce=\"Ygvqdz\", hash=\"2QfCt3GuY9HQnHWyWD3wX68ZOKbynqlfYmuO2ZBRqtY=\", mac=\"HTgtd0jPI6E4izx8e4OHdO36q00xFCU0FolNq3RiCYs=\"');\r\n            done();\r\n        });\r\n\r\n        it('returns a valid authorization header (empty payload)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, timestamp: 1353809207, nonce: 'Ygvqdz', payload: '', contentType: 'text/plain' }).field;\r\n            expect(header).to.equal('Hawk id=\\\"123456\\\", ts=\\\"1353809207\\\", nonce=\\\"Ygvqdz\\\", hash=\\\"q/t+NNAkQZNlq/aAD6PlexImwQTxwgT2MahfTa9XRLA=\\\", mac=\\\"U5k16YEzn3UnBHKeBzsDXn067Gu3R4YaY6xOt9PYRZM=\\\"');\r\n            done();\r\n        });\r\n\r\n        it('returns a valid authorization header (pre hashed payload)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var options = { credentials: credentials, timestamp: 1353809207, nonce: 'Ygvqdz', payload: 'something to write about', contentType: 'text/plain' };\r\n            options.hash = Hawk.crypto.calculatePayloadHash(options.payload, credentials.algorithm, options.contentType);\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', options).field;\r\n            expect(header).to.equal('Hawk id=\"123456\", ts=\"1353809207\", nonce=\"Ygvqdz\", hash=\"2QfCt3GuY9HQnHWyWD3wX68ZOKbynqlfYmuO2ZBRqtY=\", mac=\"HTgtd0jPI6E4izx8e4OHdO36q00xFCU0FolNq3RiCYs=\"');\r\n            done();\r\n        });\r\n\r\n        it('errors on missing uri', function (done) {\r\n\r\n            var header = Hawk.client.header('', 'POST');\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid argument type');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid uri', function (done) {\r\n\r\n            var header = Hawk.client.header(4, 'POST');\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid argument type');\r\n            done();\r\n        });\r\n\r\n        it('errors on missing method', function (done) {\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', '');\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid argument type');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid method', function (done) {\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 5);\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid argument type');\r\n            done();\r\n        });\r\n\r\n        it('errors on missing options', function (done) {\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST');\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid argument type');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid credentials (id)', function (done) {\r\n\r\n            var credentials = {\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, ext: 'Bazinga!', timestamp: 1353809207 });\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid credential object');\r\n            done();\r\n        });\r\n\r\n        it('errors on missing credentials', function (done) {\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { ext: 'Bazinga!', timestamp: 1353809207 });\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid credential object');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid credentials', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                algorithm: 'sha256'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, ext: 'Bazinga!', timestamp: 1353809207 });\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Invalid credential object');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid algorithm', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'hmac-sha-0'\r\n            };\r\n\r\n            var header = Hawk.client.header('https://example.net/somewhere/over/the/rainbow', 'POST', { credentials: credentials, payload: 'something, anything!', ext: 'Bazinga!', timestamp: 1353809207 });\r\n            expect(header.field).to.equal('');\r\n            expect(header.err).to.equal('Unknown algorithm');\r\n            done();\r\n        });\r\n    });\r\n\r\n    describe('authenticate()', function () {\r\n\r\n        it('returns false on invalid header', function (done) {\r\n\r\n            var res = {\r\n                headers: {\r\n                    'server-authorization': 'Hawk mac=\"abc\", bad=\"xyz\"'\r\n                }\r\n            };\r\n\r\n            expect(Hawk.client.authenticate(res, {})).to.equal(false);\r\n            done();\r\n        });\r\n\r\n        it('returns false on invalid mac', function (done) {\r\n\r\n            var res = {\r\n                headers: {\r\n                    'content-type': 'text/plain',\r\n                    'server-authorization': 'Hawk mac=\"_IJRsMl/4oL+nn+vKoeVZPdCHXB4yJkNnBbTbHFZUYE=\", hash=\"f9cDF/TDm7TkYRLnGwRMfeDzT6LixQVLvrIKhh0vgmM=\", ext=\"response-specific\"'\r\n                }\r\n            };\r\n\r\n            var artifacts = {\r\n                method: 'POST',\r\n                host: 'example.com',\r\n                port: '8080',\r\n                resource: '/resource/4?filter=a',\r\n                ts: '1362336900',\r\n                nonce: 'eb5S_L',\r\n                hash: 'nJjkVtBE5Y/Bk38Aiokwn0jiJxt/0S2WRSUwWLCf5xk=',\r\n                ext: 'some-app-data',\r\n                app: undefined,\r\n                dlg: undefined,\r\n                mac: 'BlmSe8K+pbKIb6YsZCnt4E1GrYvY1AaYayNR82dGpIk=',\r\n                id: '123456'\r\n            };\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\r\n                algorithm: 'sha256',\r\n                user: 'steve'\r\n            };\r\n\r\n            expect(Hawk.client.authenticate(res, credentials, artifacts)).to.equal(false);\r\n            done();\r\n        });\r\n\r\n        it('returns true on ignoring hash', function (done) {\r\n\r\n            var res = {\r\n                headers: {\r\n                    'content-type': 'text/plain',\r\n                    'server-authorization': 'Hawk mac=\"XIJRsMl/4oL+nn+vKoeVZPdCHXB4yJkNnBbTbHFZUYE=\", hash=\"f9cDF/TDm7TkYRLnGwRMfeDzT6LixQVLvrIKhh0vgmM=\", ext=\"response-specific\"'\r\n                }\r\n            };\r\n\r\n            var artifacts = {\r\n                method: 'POST',\r\n                host: 'example.com',\r\n                port: '8080',\r\n                resource: '/resource/4?filter=a',\r\n                ts: '1362336900',\r\n                nonce: 'eb5S_L',\r\n                hash: 'nJjkVtBE5Y/Bk38Aiokwn0jiJxt/0S2WRSUwWLCf5xk=',\r\n                ext: 'some-app-data',\r\n                app: undefined,\r\n                dlg: undefined,\r\n                mac: 'BlmSe8K+pbKIb6YsZCnt4E1GrYvY1AaYayNR82dGpIk=',\r\n                id: '123456'\r\n            };\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\r\n                algorithm: 'sha256',\r\n                user: 'steve'\r\n            };\r\n\r\n            expect(Hawk.client.authenticate(res, credentials, artifacts)).to.equal(true);\r\n            done();\r\n        });\r\n\r\n        it('fails on invalid WWW-Authenticate header format', function (done) {\r\n\r\n            var header = 'Hawk ts=\"1362346425875\", tsm=\"PhwayS28vtnn3qbv0mqRBYSXebN/zggEtucfeZ620Zo=\", x=\"Stale timestamp\"';\r\n            expect(Hawk.client.authenticate({ headers: { 'www-authenticate': header } }, {})).to.equal(false);\r\n            done();\r\n        });\r\n\r\n        it('fails on invalid WWW-Authenticate header format', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\r\n                algorithm: 'sha256',\r\n                user: 'steve'\r\n            };\r\n\r\n            var header = 'Hawk ts=\"1362346425875\", tsm=\"hwayS28vtnn3qbv0mqRBYSXebN/zggEtucfeZ620Zo=\", error=\"Stale timestamp\"';\r\n            expect(Hawk.client.authenticate({ headers: { 'www-authenticate': header } }, credentials)).to.equal(false);\r\n            done();\r\n        });\r\n\r\n        it('skips tsm validation when missing ts', function (done) {\r\n\r\n            var header = 'Hawk error=\"Stale timestamp\"';\r\n            expect(Hawk.client.authenticate({ headers: { 'www-authenticate': header } }, {})).to.equal(true);\r\n            done();\r\n        });\r\n    });\r\n\r\n    describe('message()', function () {\r\n\r\n        it('generates authorization', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.exist();\r\n            expect(auth.ts).to.equal(1353809207);\r\n            expect(auth.nonce).to.equal('abc123');\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid host', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message(5, 80, 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid port', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', '80', 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on missing host', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 0, 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on null message', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, null, { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on missing message', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, undefined, { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid message', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, 5, { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on missing options', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, 'I am the boodyman');\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid credentials (id)', function (done) {\r\n\r\n            var credentials = {\r\n                key: '2983d45yun89q',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n\r\n        it('errors on invalid credentials (key)', function (done) {\r\n\r\n            var credentials = {\r\n                id: '123456',\r\n                algorithm: 'sha1'\r\n            };\r\n\r\n            var auth = Hawk.client.message('example.com', 80, 'I am the boodyman', { credentials: credentials, timestamp: 1353809207, nonce: 'abc123' });\r\n            expect(auth).to.not.exist();\r\n            done();\r\n        });\r\n    });\r\n});\r\n"]}