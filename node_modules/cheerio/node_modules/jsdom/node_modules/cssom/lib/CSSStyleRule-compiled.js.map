{"version":3,"sources":["CSSStyleRule.js"],"names":[],"mappings":"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","file":"CSSStyleRule-compiled.js","sourcesContent":["//.CommonJS\nvar CSSOM = {\n\tCSSStyleDeclaration: require(\"./CSSStyleDeclaration\").CSSStyleDeclaration,\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#cssstylerule\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleRule\n */\nCSSOM.CSSStyleRule = function CSSStyleRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.selectorText = \"\";\n\tthis.style = new CSSOM.CSSStyleDeclaration();\n\tthis.style.parentRule = this;\n};\n\nCSSOM.CSSStyleRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSStyleRule.prototype.constructor = CSSOM.CSSStyleRule;\nCSSOM.CSSStyleRule.prototype.type = 1;\n\nObject.defineProperty(CSSOM.CSSStyleRule.prototype, \"cssText\", {\n\tget: function() {\n\t\tvar text;\n\t\tif (this.selectorText) {\n\t\t\ttext = this.selectorText + \" {\" + this.style.cssText + \"}\";\n\t\t} else {\n\t\t\ttext = \"\";\n\t\t}\n\t\treturn text;\n\t},\n\tset: function(cssText) {\n\t\tvar rule = CSSOM.CSSStyleRule.parse(cssText);\n\t\tthis.style = rule.style;\n\t\tthis.selectorText = rule.selectorText;\n\t}\n});\n\n\n/**\n * NON-STANDARD\n * lightweight version of parse.js.\n * @param {string} ruleText\n * @return CSSStyleRule\n */\nCSSOM.CSSStyleRule.parse = function(ruleText) {\n\tvar i = 0;\n\tvar state = \"selector\";\n\tvar index;\n\tvar j = i;\n\tvar buffer = \"\";\n\n\tvar SIGNIFICANT_WHITESPACE = {\n\t\t\"selector\": true,\n\t\t\"value\": true\n\t};\n\n\tvar styleRule = new CSSOM.CSSStyleRule();\n\tvar name, priority=\"\";\n\n\tfor (var character; (character = ruleText.charAt(i)); i++) {\n\n\t\tswitch (character) {\n\n\t\tcase \" \":\n\t\tcase \"\\t\":\n\t\tcase \"\\r\":\n\t\tcase \"\\n\":\n\t\tcase \"\\f\":\n\t\t\tif (SIGNIFICANT_WHITESPACE[state]) {\n\t\t\t\t// Squash 2 or more white-spaces in the row into 1\n\t\t\t\tswitch (ruleText.charAt(i - 1)) {\n\t\t\t\t\tcase \" \":\n\t\t\t\t\tcase \"\\t\":\n\t\t\t\t\tcase \"\\r\":\n\t\t\t\t\tcase \"\\n\":\n\t\t\t\t\tcase \"\\f\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbuffer += \" \";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// String\n\t\tcase '\"':\n\t\t\tj = i + 1;\n\t\t\tindex = ruleText.indexOf('\"', j) + 1;\n\t\t\tif (!index) {\n\t\t\t\tthrow '\" is missing';\n\t\t\t}\n\t\t\tbuffer += ruleText.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tbreak;\n\n\t\tcase \"'\":\n\t\t\tj = i + 1;\n\t\t\tindex = ruleText.indexOf(\"'\", j) + 1;\n\t\t\tif (!index) {\n\t\t\t\tthrow \"' is missing\";\n\t\t\t}\n\t\t\tbuffer += ruleText.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tbreak;\n\n\t\t// Comment\n\t\tcase \"/\":\n\t\t\tif (ruleText.charAt(i + 1) === \"*\") {\n\t\t\t\ti += 2;\n\t\t\t\tindex = ruleText.indexOf(\"*/\", i);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tthrow new SyntaxError(\"Missing */\");\n\t\t\t\t} else {\n\t\t\t\t\ti = index + 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"{\":\n\t\t\tif (state === \"selector\") {\n\t\t\t\tstyleRule.selectorText = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"name\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \":\":\n\t\t\tif (state === \"name\") {\n\t\t\t\tname = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"value\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"!\":\n\t\t\tif (state === \"value\" && ruleText.indexOf(\"!important\", i) === i) {\n\t\t\t\tpriority = \"important\";\n\t\t\t\ti += \"important\".length;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \";\":\n\t\t\tif (state === \"value\") {\n\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\tpriority = \"\";\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"name\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"}\":\n\t\t\tif (state === \"value\") {\n\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\tpriority = \"\";\n\t\t\t\tbuffer = \"\";\n\t\t\t} else if (state === \"name\") {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tstate = \"selector\";\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\t}\n\t}\n\n\treturn styleRule;\n\n};\n\n\n//.CommonJS\nexports.CSSStyleRule = CSSOM.CSSStyleRule;\n///CommonJS\n"]}