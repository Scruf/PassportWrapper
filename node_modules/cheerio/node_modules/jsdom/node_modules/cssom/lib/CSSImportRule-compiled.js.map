{"version":3,"sources":["CSSImportRule.js"],"names":[],"mappings":";AACA,IAAI,QAAQ;AACX,WAAS,QAAQ,WAAR,EAAqB,OAArB;AACT,iBAAe,QAAQ,iBAAR,EAA2B,aAA3B;AACf,aAAW,QAAQ,aAAR,EAAuB,SAAvB;CAHR;;;;;;;;AAaJ,MAAM,aAAN,GAAsB,SAAS,aAAT,GAAyB;AAC9C,QAAM,OAAN,CAAc,IAAd,CAAmB,IAAnB,EAD8C;AAE9C,OAAK,IAAL,GAAY,EAAZ,CAF8C;AAG9C,OAAK,KAAL,GAAa,IAAI,MAAM,SAAN,EAAjB,CAH8C;AAI9C,OAAK,UAAL,GAAkB,IAAI,MAAM,aAAN,EAAtB,CAJ8C;CAAzB;;AAOtB,MAAM,aAAN,CAAoB,SAApB,GAAgC,IAAI,MAAM,OAAN,EAApC;AACA,MAAM,aAAN,CAAoB,SAApB,CAA8B,WAA9B,GAA4C,MAAM,aAAN;AAC5C,MAAM,aAAN,CAAoB,SAApB,CAA8B,IAA9B,GAAqC,CAArC;;AAEA,OAAO,cAAP,CAAsB,MAAM,aAAN,CAAoB,SAApB,EAA+B,SAArD,EAAgE;AAC9D,OAAK,YAAW;AACd,QAAI,YAAY,KAAK,KAAL,CAAW,SAAX,CADF;AAEd,WAAO,iBAAiB,KAAK,IAAL,GAAY,GAA7B,IAAoC,YAAY,MAAM,SAAN,GAAkB,EAA9B,CAApC,GAAwE,GAAxE,CAFO;GAAX;AAIL,OAAK,UAAS,OAAT,EAAkB;AACrB,QAAI,IAAI,CAAJ;;;;;;;;;AADiB,QAUjB,QAAQ,EAAR,CAViB;;AAYrB,QAAI,SAAS,EAAT,CAZiB;AAarB,QAAI,KAAJ,CAbqB;AAcrB,SAAK,IAAI,SAAJ,EAAgB,YAAY,QAAQ,MAAR,CAAe,CAAf,CAAZ,EAAgC,GAArD,EAA0D;;AAExD,cAAQ,SAAR;AACE,aAAK,GAAL,CADF;AAEE,aAAK,IAAL,CAFF;AAGE,aAAK,IAAL,CAHF;AAIE,aAAK,IAAL,CAJF;AAKE,aAAK,IAAL;AACE,cAAI,UAAU,cAAV,EAA0B;AAC5B,oBAAQ,KAAR,CAD4B;WAA9B,MAEO;AACL,sBAAU,SAAV,CADK;WAFP;AAKA,gBANF;;AALF,aAaO,GAAL;AACE,cAAI,CAAC,KAAD,IAAU,QAAQ,OAAR,CAAgB,SAAhB,EAA2B,CAA3B,MAAkC,CAAlC,EAAqC;AACjD,oBAAQ,cAAR,CADiD;AAEjD,iBAAK,SAAS,MAAT,CAF4C;AAGjD,qBAAS,EAAT,CAHiD;WAAnD;AAKA,gBANF;;AAbF,aAqBO,GAAL;AACE,cAAI,UAAU,KAAV,IAAmB,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,CAAxB,MAA+B,CAA/B,EAAkC;AACvD,oBAAQ,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,IAAI,CAAJ,CAA7B,CADuD;AAEvD,gBAAI,UAAU,CAAC,CAAD,EAAI;AAChB,oBAAM,IAAI,iBAAJ,CADU;aAAlB;AAGA,iBAAK,OAAO,MAAP,CALkD;AAMvD,gBAAI,MAAM,QAAQ,KAAR,CAAc,CAAd,EAAiB,KAAjB,CAAN,CANmD;AAOvD,gBAAI,IAAI,CAAJ,MAAW,IAAI,IAAI,MAAJ,GAAa,CAAb,CAAf,EAAgC;AAClC,kBAAI,IAAI,CAAJ,MAAW,GAAX,IAAkB,IAAI,CAAJ,MAAW,GAAX,EAAgB;AACpC,sBAAM,IAAI,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAD,CAAnB,CADoC;eAAtC;aADF;AAKA,iBAAK,IAAL,GAAY,GAAZ,CAZuD;AAavD,gBAAI,KAAJ,CAbuD;AAcvD,oBAAQ,OAAR,CAduD;WAAzD;AAgBA,gBAjBF;;AArBF,aAwCO,GAAL;AACE,cAAI,UAAU,KAAV,EAAiB;AACnB,oBAAQ,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,IAAI,CAAJ,CAA7B,CADmB;AAEnB,gBAAI,CAAC,KAAD,EAAQ;AACV,oBAAM,IAAI,kBAAJ,CADI;aAAZ;AAGA,iBAAK,IAAL,GAAY,QAAQ,KAAR,CAAc,IAAI,CAAJ,EAAO,KAArB,CAAZ,CALmB;AAMnB,gBAAI,KAAJ,CANmB;AAOnB,oBAAQ,OAAR,CAPmB;WAArB;AASA,gBAVF;;AAxCF,aAoDO,GAAL;AACE,cAAI,UAAU,KAAV,EAAiB;AACnB,oBAAQ,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,IAAI,CAAJ,CAA7B,CADmB;AAEnB,gBAAI,CAAC,KAAD,EAAQ;AACV,oBAAM,IAAI,kBAAJ,CADI;aAAZ;AAGA,iBAAK,IAAL,GAAY,QAAQ,KAAR,CAAc,IAAI,CAAJ,EAAO,KAArB,CAAZ,CALmB;AAMnB,gBAAI,KAAJ,CANmB;AAOnB,oBAAQ,OAAR,CAPmB;WAArB;AASA,gBAVF;;AApDF,aAgEO,GAAL;AACE,cAAI,UAAU,OAAV,EAAmB;AACrB,gBAAI,MAAJ,EAAY;AACV,mBAAK,KAAL,CAAW,SAAX,GAAuB,OAAO,IAAP,EAAvB,CADU;aAAZ;WADF;AAKA,gBANF;;AAhEF;AAyEI,cAAI,UAAU,OAAV,EAAmB;AACrB,sBAAU,SAAV,CADqB;WAAvB;AAGA,gBAJF;AAxEF,OAFwD;KAA1D;GAdG;CALP;;;AAyGA,QAAQ,aAAR,GAAwB,MAAM,aAAN","file":"CSSImportRule-compiled.js","sourcesContent":["//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule,\n\tCSSStyleSheet: require(\"./CSSStyleSheet\").CSSStyleSheet,\n\tMediaList: require(\"./MediaList\").MediaList\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#cssimportrule\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSImportRule\n */\nCSSOM.CSSImportRule = function CSSImportRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.href = \"\";\n\tthis.media = new CSSOM.MediaList();\n\tthis.styleSheet = new CSSOM.CSSStyleSheet();\n};\n\nCSSOM.CSSImportRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSImportRule.prototype.constructor = CSSOM.CSSImportRule;\nCSSOM.CSSImportRule.prototype.type = 3;\n\nObject.defineProperty(CSSOM.CSSImportRule.prototype, \"cssText\", {\n  get: function() {\n    var mediaText = this.media.mediaText;\n    return \"@import url(\" + this.href + \")\" + (mediaText ? \" \" + mediaText : \"\") + \";\";\n  },\n  set: function(cssText) {\n    var i = 0;\n\n    /**\n     * @import url(partial.css) screen, handheld;\n     *        ||               |\n     *        after-import     media\n     *         |\n     *         url\n     */\n    var state = '';\n\n    var buffer = '';\n    var index;\n    for (var character; (character = cssText.charAt(i)); i++) {\n\n      switch (character) {\n        case ' ':\n        case '\\t':\n        case '\\r':\n        case '\\n':\n        case '\\f':\n          if (state === 'after-import') {\n            state = 'url';\n          } else {\n            buffer += character;\n          }\n          break;\n\n        case '@':\n          if (!state && cssText.indexOf('@import', i) === i) {\n            state = 'after-import';\n            i += 'import'.length;\n            buffer = '';\n          }\n          break;\n\n        case 'u':\n          if (state === 'url' && cssText.indexOf('url(', i) === i) {\n            index = cssText.indexOf(')', i + 1);\n            if (index === -1) {\n              throw i + ': \")\" not found';\n            }\n            i += 'url('.length;\n            var url = cssText.slice(i, index);\n            if (url[0] === url[url.length - 1]) {\n              if (url[0] === '\"' || url[0] === \"'\") {\n                url = url.slice(1, -1);\n              }\n            }\n            this.href = url;\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case '\"':\n          if (state === 'url') {\n            index = cssText.indexOf('\"', i + 1);\n            if (!index) {\n              throw i + \": '\\\"' not found\";\n            }\n            this.href = cssText.slice(i + 1, index);\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case \"'\":\n          if (state === 'url') {\n            index = cssText.indexOf(\"'\", i + 1);\n            if (!index) {\n              throw i + ': \"\\'\" not found';\n            }\n            this.href = cssText.slice(i + 1, index);\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case ';':\n          if (state === 'media') {\n            if (buffer) {\n              this.media.mediaText = buffer.trim();\n            }\n          }\n          break;\n\n        default:\n          if (state === 'media') {\n            buffer += character;\n          }\n          break;\n      }\n    }\n  }\n});\n\n\n//.CommonJS\nexports.CSSImportRule = CSSOM.CSSImportRule;\n///CommonJS\n"]}