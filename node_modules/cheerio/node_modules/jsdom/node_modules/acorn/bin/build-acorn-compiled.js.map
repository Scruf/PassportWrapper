{"version":3,"sources":["build-acorn.js"],"names":[],"mappings":"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","file":"build-acorn-compiled.js","sourcesContent":["var fs = require(\"fs\"), path = require(\"path\")\nvar stream = require(\"stream\")\n\nvar browserify = require(\"browserify\")\nvar babel = require('babel-core')\nvar babelify = require(\"babelify\").configure({loose: \"all\"})\n\nprocess.chdir(path.resolve(__dirname, \"..\"))\n\nbrowserify({standalone: \"acorn\"})\n  .plugin(require('browserify-derequire'))\n  .transform(babelify)\n  .require(\"./src/index.js\", {entry: true})\n  .bundle()\n  .on(\"error\", function (err) { console.log(\"Error: \" + err.message) })\n  .pipe(fs.createWriteStream(\"dist/acorn.js\"))\n\nvar ACORN_PLACEHOLDER = \"this_function_call_should_be_replaced_with_a_call_to_load_acorn()\";\nfunction acornShimPrepare(file) {\n  var tr = new stream.Transform\n  if (file == path.resolve(__dirname, \"../src/index.js\")) {\n    var sent = false\n    tr._transform = function(chunk, _, callback) {\n      if (!sent) {\n        sent = true\n        callback(null, ACORN_PLACEHOLDER);\n      } else {\n        callback()\n      }\n    }\n  } else {\n    tr._transform = function(chunk, _, callback) { callback(null, chunk) }\n  }\n  return tr\n}\nfunction acornShimComplete() {\n  var tr = new stream.Transform\n  var buffer = \"\";\n  tr._transform = function(chunk, _, callback) {\n    buffer += chunk.toString(\"utf8\");\n    callback();\n  };\n  tr._flush = function (callback) {\n    tr.push(buffer.replace(ACORN_PLACEHOLDER, \"module.exports = typeof acorn != 'undefined' ? acorn : require(\\\"./acorn\\\")\"));\n    callback(null);\n  };\n  return tr;\n}\n\nbrowserify({standalone: \"acorn.loose\"})\n  .plugin(require('browserify-derequire'))\n  .transform(acornShimPrepare)\n  .transform(babelify)\n  .require(\"./src/loose/index.js\", {entry: true})\n  .bundle()\n  .on(\"error\", function (err) { console.log(\"Error: \" + err.message) })\n  .pipe(acornShimComplete())\n  .pipe(fs.createWriteStream(\"dist/acorn_loose.js\"))\n\nbrowserify({standalone: \"acorn.walk\"})\n  .plugin(require('browserify-derequire'))\n  .transform(acornShimPrepare)\n  .transform(babelify)\n  .require(\"./src/walk/index.js\", {entry: true})\n  .bundle()\n  .on(\"error\", function (err) { console.log(\"Error: \" + err.message) })\n  .pipe(acornShimComplete())\n  .pipe(fs.createWriteStream(\"dist/walk.js\"))\n\nbabel.transformFile(\"./src/bin/acorn.js\", function (err, result) {\n  if (err) return console.log(\"Error: \" + err.message)\n  fs.writeFile(\"bin/acorn\", result.code, function (err) {\n    if (err) return console.log(\"Error: \" + err.message)\n\n    // Make bin/acorn executable\n    if (process.platform === 'win32')\n      return\n    var stat = fs.statSync(\"bin/acorn\")\n    var newPerm = stat.mode | parseInt('111', 8)\n    fs.chmodSync(\"bin/acorn\", newPerm)\n  })\n})\n"]}