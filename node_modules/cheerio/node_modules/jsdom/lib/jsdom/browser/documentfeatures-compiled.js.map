{"version":3,"sources":["documentfeatures.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,yBAAR,GAAoC,CAClC,wBADkC,EAElC,0BAFkC,EAGlC,gBAHkC,EAIlC,uBAJkC,CAApC;;AAOA,QAAQ,uBAAR,GAAkC;AAChC,0BAAwB,CAAC,QAAD,EAAW,MAAX,CAAxB;AACA,4BAA0B,CAAC,QAAD,CAA1B;AACA,kBAAgB,KAAhB;AACA,yBAAuB,KAAvB;CAJF;;AAOA,QAAQ,qBAAR,GAAgC,UAAU,GAAV,EAAe,QAAf,EAAyB;AACvD,aAAW,YAAY,EAAZ,CAD4C;;AAGvD,OAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,QAAQ,yBAAR,CAAkC,MAAlC,EAA0C,EAAE,CAAF,EAAK;AACjE,UAAM,cAAc,QAAQ,yBAAR,CAAkC,CAAlC,CAAd,CAD2D;AAEjE,QAAI,aAAJ,CAFiE;;AAIjE,QAAI,SAAS,WAAT,MAA0B,SAA1B,EAAqC;AACvC,sBAAgB,SAAS,WAAT,CAAhB;;;AADuC,KAAzC,MAIO,IAAI,OAAO,SAAS,YAAY,WAAZ,EAAT,CAAP,KAA+C,WAA/C,EAA4D;AACrE,wBAAgB,SAAS,YAAY,WAAZ,EAAT,CAAhB,CADqE;OAAhE,MAEA,IAAI,QAAQ,uBAAR,CAAgC,WAAhC,CAAJ,EAAkD;AACvD,wBAAgB,QAAQ,uBAAR,CAAgC,WAAhC,CAAhB,CADuD;OAAlD,MAEA;AACL,iBADK;OAFA;;AAMP,QAAI,cAAJ,CAAmB,cAAnB,CAAkC,WAAlC,EAhBiE;;AAkBjE,QAAI,kBAAkB,SAAlB,EAA6B;AAC/B,UAAI,MAAM,OAAN,CAAc,aAAd,CAAJ,EAAkC;AAChC,aAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,cAAc,MAAd,EAAsB,EAAE,CAAF,EAAK;AAC7C,cAAI,cAAJ,CAAmB,WAAnB,CAA+B,WAA/B,EAA4C,cAAc,CAAd,CAA5C,EAD6C;SAA/C;OADF,MAIO;AACL,YAAI,cAAJ,CAAmB,WAAnB,CAA+B,WAA/B,EAA4C,aAA5C,EADK;OAJP;KADF;GAlBF;CAH8B","file":"documentfeatures-compiled.js","sourcesContent":["\"use strict\";\n\nexports.availableDocumentFeatures = [\n  \"FetchExternalResources\",\n  \"ProcessExternalResources\",\n  \"MutationEvents\",\n  \"SkipExternalResources\"\n];\n\nexports.defaultDocumentFeatures = {\n  FetchExternalResources: [\"script\", \"link\"], // omitted by default: \"frame\"\n  ProcessExternalResources: [\"script\"], // omitted by default: \"frame\", \"iframe\"\n  MutationEvents: \"2.0\",\n  SkipExternalResources: false\n};\n\nexports.applyDocumentFeatures = function (doc, features) {\n  features = features || {};\n\n  for (let i = 0; i < exports.availableDocumentFeatures.length; ++i) {\n    const featureName = exports.availableDocumentFeatures[i];\n    let featureSource;\n\n    if (features[featureName] !== undefined) {\n      featureSource = features[featureName];\n      // We have to check the lowercase version also because the Document feature\n      // methods convert everything to lowercase.\n    } else if (typeof features[featureName.toLowerCase()] !== \"undefined\") {\n      featureSource = features[featureName.toLowerCase()];\n    } else if (exports.defaultDocumentFeatures[featureName]) {\n      featureSource = exports.defaultDocumentFeatures[featureName];\n    } else {\n      continue;\n    }\n\n    doc.implementation._removeFeature(featureName);\n\n    if (featureSource !== undefined) {\n      if (Array.isArray(featureSource)) {\n        for (let j = 0; j < featureSource.length; ++j) {\n          doc.implementation._addFeature(featureName, featureSource[j]);\n        }\n      } else {\n        doc.implementation._addFeature(featureName, featureSource);\n      }\n    }\n  }\n};\n"]}