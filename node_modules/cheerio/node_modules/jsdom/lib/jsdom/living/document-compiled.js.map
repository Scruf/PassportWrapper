{"version":3,"sources":["document.js"],"names":[],"mappings":"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","file":"document-compiled.js","sourcesContent":["\"use strict\";\nconst DOMException = require(\"../web-idl/DOMException\");\nconst validateNames = require(\"./helpers/validate-names\");\nconst defineGetter = require(\"../utils\").defineGetter;\nconst defineSetter = require(\"../utils\").defineSetter;\nconst memoizeQuery = require(\"../utils\").memoizeQuery;\nconst generatedAttr = require(\"./generated/Attr\");\nconst clone = require(\"./node\").clone;\nconst listOfElementsWithClassNames = require(\"./node\").listOfElementsWithClassNames;\nconst validateName = require(\"./helpers/validate-names\").name;\nconst validateAndExtract = require(\"./helpers/validate-names\").validateAndExtract;\nconst NODE_TYPE = require(\"../living/node-type\");\n\nmodule.exports = function (core) {\n  core.Document.prototype.createProcessingInstruction = function (target, data) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createProcessingInstruction\");\n    }\n    target = String(target);\n    data = String(data);\n\n    validateNames.name(target);\n\n    if (data.indexOf(\"?>\") !== -1) {\n      throw new core.DOMException(core.DOMException.INVALID_CHARACTER_ERR,\n        \"Processing instruction data cannot contain the string \\\"?>\\\"\");\n    }\n\n    return new core.ProcessingInstruction(this._ownerDocument, target, data);\n  };\n\n  core.Document.prototype.createTextNode = function (data) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createTextNode\");\n    }\n    data = String(data);\n\n    return new core.Text(this, data);\n  };\n\n  core.Document.prototype.createComment = function (data) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createComment\");\n    }\n    data = String(data);\n\n    return new core.Comment(this, data);\n  };\n\n  core.Document.prototype.createElement = function (localName) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createElement\");\n    }\n    localName = String(localName);\n\n    validateName(localName);\n    if (this._parsingMode === \"html\") {\n      localName = localName.toLowerCase();\n    }\n\n    const element = this._createElementWithCorrectElementInterface(localName, \"http://www.w3.org/1999/xhtml\");\n    element._namespaceURI = \"http://www.w3.org/1999/xhtml\";\n    element._localName = localName;\n    element._ownerDocument = this;\n\n    return element;\n  };\n\n  core.Document.prototype.createElementNS = function (namespace, qualifiedName) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createElementNS\");\n    }\n    namespace = namespace !== null ? String(namespace) : namespace;\n    qualifiedName = String(qualifiedName);\n\n    const extracted = validateAndExtract(namespace, qualifiedName);\n\n    const element = this._createElementWithCorrectElementInterface(extracted.localName, extracted.namespace);\n    element._namespaceURI = extracted.namespace;\n    element._prefix = extracted.prefix;\n    element._localName = extracted.localName;\n    element._ownerDocument = this;\n\n    return element;\n  };\n\n  core.Document.prototype.createDocumentFragment = function () {\n    return new core.DocumentFragment(this);\n  };\n\n  core.Document.prototype.createAttribute = function (localName) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"not enough arguments to Document.prototype.createAttribute\");\n    }\n    localName = String(localName);\n\n    validateName(localName);\n\n    if (this._parsingMode === \"html\") {\n      localName = localName.toLowerCase();\n    }\n\n    return generatedAttr.create([], { localName });\n  };\n\n  core.Document.prototype.createAttributeNS = function (namespace, name) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"not enough arguments to Document.prototype.createAttributeNS\");\n    }\n    if (namespace === undefined) {\n      namespace = null;\n    }\n    namespace = namespace !== null ? String(namespace) : namespace;\n    name = String(name);\n\n    const extracted = validateAndExtract(namespace, name);\n    return generatedAttr.create([], {\n      namespace: extracted.namespace,\n      namespacePrefix: extracted.prefix,\n      localName: extracted.localName\n    });\n  };\n\n\n  core.Document.prototype.importNode = function (node, deep) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.createElement\");\n    }\n    if (!(\"_ownerDocument\" in node)) {\n      throw new TypeError(\"First argument to importNode must be a Node\");\n    }\n    deep = Boolean(deep);\n\n    if (node.nodeType === NODE_TYPE.DOCUMENT_NODE) {\n      throw new DOMException(DOMException.NOT_SUPPORTED_ERR, \"Cannot import a document node\");\n    }\n\n    return clone(core, node, this, deep);\n  };\n\n  core.Document.prototype.getElementsByClassName = memoizeQuery(function getElementsByClassName(classNames) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Document.prototype.getElementsByClassName\");\n    }\n\n    classNames = String(classNames);\n    return listOfElementsWithClassNames(classNames, this);\n  });\n\n  // https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie\n  defineGetter(core.Document.prototype, \"cookie\", function () {\n    return this._cookieJar.getCookieStringSync(this._URL, { http: false });\n  });\n\n  defineSetter(core.Document.prototype, \"cookie\", function (cookieStr) {\n    cookieStr = String(cookieStr);\n    this._cookieJar.setCookieSync(cookieStr, this._URL, {\n      http: false,\n      ignoreError: true\n    });\n  });\n};\n"]}