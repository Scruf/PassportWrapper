{"version":3,"sources":["element.js"],"names":[],"mappings":"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","file":"element-compiled.js","sourcesContent":["\"use strict\";\nconst defineGetter = require(\"../utils\").defineGetter;\nconst memoizeQuery = require(\"../utils\").memoizeQuery;\nconst attributes = require(\"./attributes\");\nconst attrGenerated = require(\"./generated/Attr\");\nconst createDOMTokenList = require(\"./dom-token-list\").create;\nconst listOfElementsWithClassNames = require(\"./node\").listOfElementsWithClassNames;\nconst validateNames = require(\"./helpers/validate-names\");\nconst DOMException = require(\"../web-idl/DOMException\");\n\nmodule.exports = function (core) {\n  defineGetter(core.Element, \"attributes\", function () {\n    return this._attributes;\n  });\n\n  defineGetter(core.Element.prototype, \"classList\", function () {\n    if (this._classList === undefined) {\n      this._classList = createDOMTokenList(this, \"class\");\n    }\n    return this._classList;\n  });\n\n  core.Element.prototype.hasAttributes = function hasAttributes() {\n    return attributes.hasAttributes(this);\n  };\n\n  core.Element.prototype.getAttribute = function getAttribute(name) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.getAttribute\");\n    }\n    name = String(name);\n\n    return attributes.getAttributeValue(this, name);\n  };\n\n  core.Element.prototype.getAttributeNS = function getAttributeNS(namespace, localName) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.getAttributeNS\");\n    }\n    if (namespace === undefined || namespace === null) {\n      namespace = null;\n    } else {\n      namespace = String(namespace);\n    }\n    localName = String(localName);\n\n    return attributes.getAttributeValueByNameNS(this, namespace, localName);\n  };\n\n  core.Element.prototype.setAttribute = function setAttribute(name, value) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.setAttribute\");\n    }\n    name = String(name);\n    value = String(value);\n\n    validateNames.name(name);\n\n    if (this._namespaceURI === \"http://www.w3.org/1999/xhtml\" && this._ownerDocument._parsingMode === \"html\") {\n      name = name.toLowerCase();\n    }\n\n    const attribute = attributes.getAttributeByName(this, name);\n\n    if (attribute === null) {\n      const newAttr = attrGenerated.create([], { localName: name, value });\n      attributes.appendAttribute(this, newAttr);\n      return;\n    }\n\n    attributes.changeAttribute(this, attribute, value);\n  };\n\n  core.Element.prototype.setAttributeNS = function setAttributeNS(namespace, name, value) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.setAttributeNS\");\n    }\n    if (namespace === undefined || namespace === null) {\n      namespace = null;\n    } else {\n      namespace = String(namespace);\n    }\n    name = String(name);\n    value = String(value);\n\n    const extracted = validateNames.validateAndExtract(namespace, name);\n\n    attributes.setAttributeValue(this, extracted.localName, value, extracted.prefix, extracted.namespace);\n  };\n\n  core.Element.prototype.removeAttribute = function removeAttribute(name) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.removeAttribute\");\n    }\n    name = String(name);\n\n    attributes.removeAttributeByName(this, name);\n  };\n\n  core.Element.prototype.removeAttributeNS = function removeAttributeNS(namespace, localName) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.removeAttributeNS\");\n    }\n    if (namespace === undefined || namespace === null) {\n      namespace = null;\n    } else {\n      namespace = String(namespace);\n    }\n    localName = String(localName);\n\n    attributes.removeAttributeByNameNS(this, namespace, localName);\n  };\n\n  core.Element.prototype.hasAttribute = function hasAttribute(name) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.hasAttribute\");\n    }\n    name = String(name);\n\n    if (this._namespaceURI === \"http://www.w3.org/1999/xhtml\" && this._ownerDocument._parsingMode === \"html\") {\n      name = name.toLowerCase();\n    }\n\n    return attributes.hasAttributeByName(this, name);\n  };\n\n  core.Element.prototype.hasAttributeNS = function hasAttributeNS(namespace, localName) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.hasAttributeNS\");\n    }\n    if (namespace === undefined || namespace === null) {\n      namespace = null;\n    } else {\n      namespace = String(namespace);\n    }\n    localName = String(localName);\n\n    if (namespace === \"\") {\n      namespace = null;\n    }\n\n    return attributes.hasAttributeByNameNS(this, namespace, localName);\n  };\n\n  core.Element.prototype.getAttributeNode = function getAttributeNode(name) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.getAttributeNode\");\n    }\n    name = String(name);\n\n    return attributes.getAttributeByName(this, name);\n  };\n\n  core.Element.prototype.getAttributeNodeNS = function getAttributeNodeNS(namespace, localName) {\n    if (arguments.length < 2) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.getAttributeNodeNS\");\n    }\n    if (namespace === undefined || namespace === null) {\n      namespace = null;\n    } else {\n      namespace = String(namespace);\n    }\n    localName = String(localName);\n\n    return attributes.getAttributeByNameNS(this, namespace, localName);\n  };\n\n  core.Element.prototype.setAttributeNode = function setAttributeNode(attr) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.setAttributeNode\");\n    }\n    if (!attrGenerated.is(attr)) {\n      throw new TypeError(\"First argument to Element.prototype.setAttributeNode must be an Attr\");\n    }\n\n    return attributes.setAttribute(this, attr);\n  };\n\n  core.Element.prototype.setAttributeNodeNS = function setAttributeNodeNS(attr) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.setAttributeNodeNS\");\n    }\n    if (!attrGenerated.is(attr)) {\n      throw new TypeError(\"First argument to Element.prototype.setAttributeNodeNS must be an Attr\");\n    }\n\n    return attributes.setAttribute(this, attr);\n  };\n\n  core.Element.prototype.removeAttributeNode = function removeAttributeNode(attr) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.setAttributeNode\");\n    }\n    if (!attrGenerated.is(attr)) {\n      throw new TypeError(\"First argument to Element.prototype.removeAttributeNode must be an Attr\");\n    }\n\n    if (!attributes.hasAttribute(this, attr)) {\n      throw new DOMException(DOMException.NOT_FOUND_ERR, \"Tried to remove an attribute that was not present\");\n    }\n\n    attributes.removeAttribute(this, attr);\n\n    return attr;\n  };\n\n  core.Element.prototype.getElementsByClassName = memoizeQuery(function getElementsByClassName(classNames) {\n    if (arguments.length < 1) {\n      throw new TypeError(\"Not enough arguments to Element.prototype.getElementsByClassName\");\n    }\n\n    classNames = String(classNames);\n    return listOfElementsWithClassNames(classNames, this);\n  });\n};\n"]}